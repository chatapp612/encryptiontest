(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e){e.exports={contractName:"MessageStore",abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"string",name:"content",type:"string"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"MessageSent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"publicKey",type:"string"}],name:"PublicKeyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"username",type:"string"}],name:"UserRegistered",type:"event"},{constant:!1,inputs:[{internalType:"string",name:"username",type:"string"},{internalType:"string",name:"publicKey",type:"string"},{internalType:"string",name:"password",type:"string"}],name:"registerUser",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getAllRegisteredUsers",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"string[]",name:"",type:"string[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"publicKey",type:"string"}],name:"updatePublicKey",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"newPasswordHash",type:"bytes32"}],name:"changePassword",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getPublicKey",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getPasswordHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getUsername",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"password",type:"string"}],name:"validatePassword",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUsernameByAddress",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"string",name:"content",type:"string"}],name:"sendMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"fetchAllMessagesForLoggedInAccount",outputs:[{components:[{internalType:"address",name:"recipient",type:"address"},{internalType:"string",name:"content",type:"string"},{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct MessageStore.Message[]",name:"",type:"tuple[]"}],payable:!1,stateMutability:"view",type:"function"}],metadata:'{"compiler":{"version":"0.5.16+commit.9c3226ce"},"language":"Solidity","output":{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"string","name":"content","type":"string"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"MessageSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"string","name":"publicKey","type":"string"}],"name":"PublicKeyUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"string","name":"username","type":"string"}],"name":"UserRegistered","type":"event"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"newPasswordHash","type":"bytes32"}],"name":"changePassword","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"fetchAllMessagesForLoggedInAccount","outputs":[{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"content","type":"string"},{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"internalType":"struct MessageStore.Message[]","name":"","type":"tuple[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAllRegisteredUsers","outputs":[{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"string[]","name":"","type":"string[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getPasswordHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getPublicKey","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getUsername","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUsernameByAddress","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"username","type":"string"},{"internalType":"string","name":"publicKey","type":"string"},{"internalType":"string","name":"password","type":"string"}],"name":"registerUser","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"content","type":"string"}],"name":"sendMessage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"publicKey","type":"string"}],"name":"updatePublicKey","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"password","type":"string"}],"name":"validatePassword","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"}],"devdoc":{"methods":{}},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"project:/src/contracts/MessageStore.sol":"MessageStore"},"evmVersion":"istanbul","libraries":{},"optimizer":{"enabled":false,"runs":200},"remappings":[]},"sources":{"project:/src/contracts/MessageStore.sol":{"keccak256":"0x4a63238e719221bd8cc46e5baaee2699f74f967945e4b5ce81bd0cc98ab7f1db","urls":["bzz-raw://1dd2b1edd2bb59de399f6c7f3d5560d4c305b022ad0d4e4454ee954ab20c99b6","dweb:/ipfs/QmbAsvcLcDPmGQdgRQF5Hz2cESQGfnyuZjHPTWdF8VH2oQ"]}},"version":1}',bytecode:"0x608060405234801561001057600080fd5b50611cfe806100206000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c80638a448812116100715780638a4488121461017b578063b7a48da1146101ab578063d637dcfa146101db578063de6f24bb1461020b578063ed1a998d14610227578063f8b2e90014610257576100a9565b80631dc6fa5e146100ae578063397388af146100de578063557bd617146100fd578063681f3e6d1461012d578063857cdbb81461014b575b600080fd5b6100c860048036036100c39190810190611517565b610275565b6040516100d591906119e9565b60405180910390f35b6100e66103bd565b6040516100f4929190611990565b60405180910390f35b61011760048036036101129190810190611517565b6105d4565b60405161012491906119e9565b60405180910390f35b610135610648565b6040516101429190611a1f565b60405180910390f35b61016560048036036101609190810190611471565b61072a565b6040516101729190611a1f565b60405180910390f35b61019560048036036101909190810190611471565b61080e565b6040516101a29190611a04565b60405180910390f35b6101c560048036036101c091908101906114ee565b61085a565b6040516101d291906119e9565b60405180910390f35b6101f560048036036101f09190810190611558565b610944565b60405161020291906119e9565b60405180910390f35b6102256004803603610220919081019061149a565b610b82565b005b610241600480360361023c9190810190611471565b610d8d565b60405161024e9190611a1f565b60405180910390f35b61025f610e71565b60405161026c91906119c7565b60405180910390f35b600080600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900490501161030f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161030690611a81565b60405180910390fd5b81600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600201908051906020019061036592919061127a565b503373ffffffffffffffffffffffffffffffffffffffff167fa850082d2fb101274de37494dc864e9277de33c04415c7ad9db57592c60511a5836040516103ac9190611a1f565b60405180910390a260019050919050565b6060806000808054905090506060816040519080825280602002602001820160405280156103fa5781602001602082028038833980820191505090505b50905060608260405190808252806020026020018201604052801561043357816020015b606081526020019060019003908161041e5790505b50905060008090505b838110156105c657600080828154811061045257fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508084838151811061048c57fe5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561059c5780601f106105715761010080835404028352916020019161059c565b820191906000526020600020905b81548152906001019060200180831161057f57829003601f168201915b50505050508383815181106105ad57fe5b602002602001018190525050808060010191505061043c565b508181945094505050509091565b6000816040516020016105e79190611979565b60405160208183030381529060405280519060200120600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010154149050919050565b6060600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107205780601f106106f557610100808354040283529160200191610720565b820191906000526020600020905b81548152906001019060200180831161070357829003601f168201915b5050505050905090565b6060600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108025780601f106107d757610100808354040283529160200191610802565b820191906000526020600020905b8154815290600101906020018083116107e557829003601f168201915b50505050509050919050565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b600080600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001805460018160011615610100020316600290049050116108f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108eb90611a61565b60405180910390fd5b81600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018190555060019050919050565b600080600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000180546001816001161561010002031660029004905011156109ad5760009050610b7b565b6040518060600160405280858152602001836040516020016109cf9190611979565b60405160208183030381529060405280519060200120815260200184815250600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000820151816000019080519060200190610a499291906112fa565b50602082015181600101556040820151816002019080519060200190610a709291906112fa565b5090505060003390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550503373ffffffffffffffffffffffffffffffffffffffff167f48cac28ad4dc618e15f4c2dd5e97751182f166de97b25618318b2112aa951a2f85604051610b209190611a1f565b60405180910390a23373ffffffffffffffffffffffffffffffffffffffff167fa850082d2fb101274de37494dc864e9277de33c04415c7ad9db57592c60511a584604051610b6e9190611a1f565b60405180910390a2600190505b9392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610bf2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610be990611a41565b60405180910390fd5b600260405180608001604052808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020013373ffffffffffffffffffffffffffffffffffffffff168152602001428152509080600181540180825580915050906001820390600052602060002090600402016000909192909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001019080519060200190610ccf9291906112fa565b5060408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301555050503373ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f128dddcdd5b66e36282acb9d963e99dc6332de95ae80d414e922fe3058f2edb083604051610d819190611a1f565b60405180910390a35050565b6060600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e655780601f10610e3a57610100808354040283529160200191610e65565b820191906000526020600020905b815481529060010190602001808311610e4857829003601f168201915b50505050509050919050565b6060600080905060008090505b600280549050811015610f87573373ffffffffffffffffffffffffffffffffffffffff1660028281548110610eaf57fe5b906000526020600020906004020160020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161480610f6c57503373ffffffffffffffffffffffffffffffffffffffff1660028281548110610f2257fe5b906000526020600020906004020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b15610f7a5781806001019250505b8080600101915050610e7e565b50606081604051908082528060200260200182016040528015610fc457816020015b610fb161137a565b815260200190600190039081610fa95790505b509050600080905060008090505b600280549050811015611270573373ffffffffffffffffffffffffffffffffffffffff166002828154811061100357fe5b906000526020600020906004020160020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614806110c057503373ffffffffffffffffffffffffffffffffffffffff166002828154811061107657fe5b906000526020600020906004020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b1561126357600281815481106110d257fe5b90600052602060002090600402016040518060800160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156111da5780601f106111af576101008083540402835291602001916111da565b820191906000526020600020905b8154815290600101906020018083116111bd57829003601f168201915b505050505081526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160038201548152505083838151811061124f57fe5b602002602001018190525081806001019250505b8080600101915050610fd2565b5081935050505090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106112bb57805160ff19168380011785556112e9565b828001600101855582156112e9579182015b828111156112e85782518255916020019190600101906112cd565b5b5090506112f691906113ce565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061133b57805160ff1916838001178555611369565b82800160010185558215611369579182015b8281111561136857825182559160200191906001019061134d565b5b50905061137691906113ce565b5090565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200160608152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525090565b6113f091905b808211156113ec5760008160009055506001016113d4565b5090565b90565b60008135905061140281611c8d565b92915050565b60008135905061141781611ca4565b92915050565b600082601f83011261142e57600080fd5b813561144161143c82611ace565b611aa1565b9150808252602083016020830185838301111561145d57600080fd5b611468838284611c3a565b50505092915050565b60006020828403121561148357600080fd5b6000611491848285016113f3565b91505092915050565b600080604083850312156114ad57600080fd5b60006114bb858286016113f3565b925050602083013567ffffffffffffffff8111156114d857600080fd5b6114e48582860161141d565b9150509250929050565b60006020828403121561150057600080fd5b600061150e84828501611408565b91505092915050565b60006020828403121561152957600080fd5b600082013567ffffffffffffffff81111561154357600080fd5b61154f8482850161141d565b91505092915050565b60008060006060848603121561156d57600080fd5b600084013567ffffffffffffffff81111561158757600080fd5b6115938682870161141d565b935050602084013567ffffffffffffffff8111156115b057600080fd5b6115bc8682870161141d565b925050604084013567ffffffffffffffff8111156115d957600080fd5b6115e58682870161141d565b9150509250925092565b60006115fb838361162f565b60208301905092915050565b6000611613838361180e565b905092915050565b60006116278383611907565b905092915050565b61163881611be8565b82525050565b600061164982611b2a565b6116538185611b88565b935061165e83611afa565b8060005b8381101561168f57815161167688826115ef565b975061168183611b61565b925050600181019050611662565b5085935050505092915050565b60006116a782611b35565b6116b18185611b99565b9350836020820285016116c385611b0a565b8060005b858110156116ff57848403895281516116e08582611607565b94506116eb83611b6e565b925060208a019950506001810190506116c7565b50829750879550505050505092915050565b600061171c82611b40565b6117268185611baa565b93508360208202850161173885611b1a565b8060005b858110156117745784840389528151611755858261161b565b945061176083611b7b565b925060208a0199505060018101905061173c565b50829750879550505050505092915050565b61178f81611bfa565b82525050565b61179e81611c06565b82525050565b60006117af82611b56565b6117b98185611bcc565b93506117c9818560208601611c49565b6117d281611c7c565b840191505092915050565b60006117e882611b56565b6117f28185611bdd565b9350611802818560208601611c49565b80840191505092915050565b600061181982611b4b565b6118238185611bbb565b9350611833818560208601611c49565b61183c81611c7c565b840191505092915050565b6000611854601a83611bcc565b91507f496e76616c696420726563697069656e7420616464726573732e0000000000006000830152602082019050919050565b6000611894601483611bcc565b91507f55736572206e6f7420726567697374657265642e0000000000000000000000006000830152602082019050919050565b60006118d4601783611bcc565b91507f55736572206973206e6f7420726567697374657265642e0000000000000000006000830152602082019050919050565b600060808301600083015161191f600086018261162f565b5060208301518482036020860152611937828261180e565b915050604083015161194c604086018261162f565b50606083015161195f606086018261196a565b508091505092915050565b61197381611c30565b82525050565b600061198582846117dd565b915081905092915050565b600060408201905081810360008301526119aa818561163e565b905081810360208301526119be818461169c565b90509392505050565b600060208201905081810360008301526119e18184611711565b905092915050565b60006020820190506119fe6000830184611786565b92915050565b6000602082019050611a196000830184611795565b92915050565b60006020820190508181036000830152611a3981846117a4565b905092915050565b60006020820190508181036000830152611a5a81611847565b9050919050565b60006020820190508181036000830152611a7a81611887565b9050919050565b60006020820190508181036000830152611a9a816118c7565b9050919050565b6000604051905081810181811067ffffffffffffffff82111715611ac457600080fd5b8060405250919050565b600067ffffffffffffffff821115611ae557600080fd5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600081905092915050565b6000611bf382611c10565b9050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015611c67578082015181840152602081019050611c4c565b83811115611c76576000848401525b50505050565b6000601f19601f8301169050919050565b611c9681611be8565b8114611ca157600080fd5b50565b611cad81611c06565b8114611cb857600080fd5b5056fea365627a7a72315820d5f449f27954f1a245a3567f4d94387e61096bf94f3d90cb11c03aca58e06cb06c6578706572696d656e74616cf564736f6c63430005100040",deployedBytecode:"0x608060405234801561001057600080fd5b50600436106100a95760003560e01c80638a448812116100715780638a4488121461017b578063b7a48da1146101ab578063d637dcfa146101db578063de6f24bb1461020b578063ed1a998d14610227578063f8b2e90014610257576100a9565b80631dc6fa5e146100ae578063397388af146100de578063557bd617146100fd578063681f3e6d1461012d578063857cdbb81461014b575b600080fd5b6100c860048036036100c39190810190611517565b610275565b6040516100d591906119e9565b60405180910390f35b6100e66103bd565b6040516100f4929190611990565b60405180910390f35b61011760048036036101129190810190611517565b6105d4565b60405161012491906119e9565b60405180910390f35b610135610648565b6040516101429190611a1f565b60405180910390f35b61016560048036036101609190810190611471565b61072a565b6040516101729190611a1f565b60405180910390f35b61019560048036036101909190810190611471565b61080e565b6040516101a29190611a04565b60405180910390f35b6101c560048036036101c091908101906114ee565b61085a565b6040516101d291906119e9565b60405180910390f35b6101f560048036036101f09190810190611558565b610944565b60405161020291906119e9565b60405180910390f35b6102256004803603610220919081019061149a565b610b82565b005b610241600480360361023c9190810190611471565b610d8d565b60405161024e9190611a1f565b60405180910390f35b61025f610e71565b60405161026c91906119c7565b60405180910390f35b600080600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900490501161030f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161030690611a81565b60405180910390fd5b81600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600201908051906020019061036592919061127a565b503373ffffffffffffffffffffffffffffffffffffffff167fa850082d2fb101274de37494dc864e9277de33c04415c7ad9db57592c60511a5836040516103ac9190611a1f565b60405180910390a260019050919050565b6060806000808054905090506060816040519080825280602002602001820160405280156103fa5781602001602082028038833980820191505090505b50905060608260405190808252806020026020018201604052801561043357816020015b606081526020019060019003908161041e5790505b50905060008090505b838110156105c657600080828154811061045257fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508084838151811061048c57fe5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561059c5780601f106105715761010080835404028352916020019161059c565b820191906000526020600020905b81548152906001019060200180831161057f57829003601f168201915b50505050508383815181106105ad57fe5b602002602001018190525050808060010191505061043c565b508181945094505050509091565b6000816040516020016105e79190611979565b60405160208183030381529060405280519060200120600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010154149050919050565b6060600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107205780601f106106f557610100808354040283529160200191610720565b820191906000526020600020905b81548152906001019060200180831161070357829003601f168201915b5050505050905090565b6060600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108025780601f106107d757610100808354040283529160200191610802565b820191906000526020600020905b8154815290600101906020018083116107e557829003601f168201915b50505050509050919050565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600101549050919050565b600080600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001805460018160011615610100020316600290049050116108f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108eb90611a61565b60405180910390fd5b81600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018190555060019050919050565b600080600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000180546001816001161561010002031660029004905011156109ad5760009050610b7b565b6040518060600160405280858152602001836040516020016109cf9190611979565b60405160208183030381529060405280519060200120815260200184815250600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000820151816000019080519060200190610a499291906112fa565b50602082015181600101556040820151816002019080519060200190610a709291906112fa565b5090505060003390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550503373ffffffffffffffffffffffffffffffffffffffff167f48cac28ad4dc618e15f4c2dd5e97751182f166de97b25618318b2112aa951a2f85604051610b209190611a1f565b60405180910390a23373ffffffffffffffffffffffffffffffffffffffff167fa850082d2fb101274de37494dc864e9277de33c04415c7ad9db57592c60511a584604051610b6e9190611a1f565b60405180910390a2600190505b9392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610bf2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610be990611a41565b60405180910390fd5b600260405180608001604052808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020013373ffffffffffffffffffffffffffffffffffffffff168152602001428152509080600181540180825580915050906001820390600052602060002090600402016000909192909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001019080519060200190610ccf9291906112fa565b5060408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550606082015181600301555050503373ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f128dddcdd5b66e36282acb9d963e99dc6332de95ae80d414e922fe3058f2edb083604051610d819190611a1f565b60405180910390a35050565b6060600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e655780601f10610e3a57610100808354040283529160200191610e65565b820191906000526020600020905b815481529060010190602001808311610e4857829003601f168201915b50505050509050919050565b6060600080905060008090505b600280549050811015610f87573373ffffffffffffffffffffffffffffffffffffffff1660028281548110610eaf57fe5b906000526020600020906004020160020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161480610f6c57503373ffffffffffffffffffffffffffffffffffffffff1660028281548110610f2257fe5b906000526020600020906004020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b15610f7a5781806001019250505b8080600101915050610e7e565b50606081604051908082528060200260200182016040528015610fc457816020015b610fb161137a565b815260200190600190039081610fa95790505b509050600080905060008090505b600280549050811015611270573373ffffffffffffffffffffffffffffffffffffffff166002828154811061100357fe5b906000526020600020906004020160020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614806110c057503373ffffffffffffffffffffffffffffffffffffffff166002828154811061107657fe5b906000526020600020906004020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16145b1561126357600281815481106110d257fe5b90600052602060002090600402016040518060800160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156111da5780601f106111af576101008083540402835291602001916111da565b820191906000526020600020905b8154815290600101906020018083116111bd57829003601f168201915b505050505081526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160038201548152505083838151811061124f57fe5b602002602001018190525081806001019250505b8080600101915050610fd2565b5081935050505090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106112bb57805160ff19168380011785556112e9565b828001600101855582156112e9579182015b828111156112e85782518255916020019190600101906112cd565b5b5090506112f691906113ce565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061133b57805160ff1916838001178555611369565b82800160010185558215611369579182015b8281111561136857825182559160200191906001019061134d565b5b50905061137691906113ce565b5090565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200160608152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525090565b6113f091905b808211156113ec5760008160009055506001016113d4565b5090565b90565b60008135905061140281611c8d565b92915050565b60008135905061141781611ca4565b92915050565b600082601f83011261142e57600080fd5b813561144161143c82611ace565b611aa1565b9150808252602083016020830185838301111561145d57600080fd5b611468838284611c3a565b50505092915050565b60006020828403121561148357600080fd5b6000611491848285016113f3565b91505092915050565b600080604083850312156114ad57600080fd5b60006114bb858286016113f3565b925050602083013567ffffffffffffffff8111156114d857600080fd5b6114e48582860161141d565b9150509250929050565b60006020828403121561150057600080fd5b600061150e84828501611408565b91505092915050565b60006020828403121561152957600080fd5b600082013567ffffffffffffffff81111561154357600080fd5b61154f8482850161141d565b91505092915050565b60008060006060848603121561156d57600080fd5b600084013567ffffffffffffffff81111561158757600080fd5b6115938682870161141d565b935050602084013567ffffffffffffffff8111156115b057600080fd5b6115bc8682870161141d565b925050604084013567ffffffffffffffff8111156115d957600080fd5b6115e58682870161141d565b9150509250925092565b60006115fb838361162f565b60208301905092915050565b6000611613838361180e565b905092915050565b60006116278383611907565b905092915050565b61163881611be8565b82525050565b600061164982611b2a565b6116538185611b88565b935061165e83611afa565b8060005b8381101561168f57815161167688826115ef565b975061168183611b61565b925050600181019050611662565b5085935050505092915050565b60006116a782611b35565b6116b18185611b99565b9350836020820285016116c385611b0a565b8060005b858110156116ff57848403895281516116e08582611607565b94506116eb83611b6e565b925060208a019950506001810190506116c7565b50829750879550505050505092915050565b600061171c82611b40565b6117268185611baa565b93508360208202850161173885611b1a565b8060005b858110156117745784840389528151611755858261161b565b945061176083611b7b565b925060208a0199505060018101905061173c565b50829750879550505050505092915050565b61178f81611bfa565b82525050565b61179e81611c06565b82525050565b60006117af82611b56565b6117b98185611bcc565b93506117c9818560208601611c49565b6117d281611c7c565b840191505092915050565b60006117e882611b56565b6117f28185611bdd565b9350611802818560208601611c49565b80840191505092915050565b600061181982611b4b565b6118238185611bbb565b9350611833818560208601611c49565b61183c81611c7c565b840191505092915050565b6000611854601a83611bcc565b91507f496e76616c696420726563697069656e7420616464726573732e0000000000006000830152602082019050919050565b6000611894601483611bcc565b91507f55736572206e6f7420726567697374657265642e0000000000000000000000006000830152602082019050919050565b60006118d4601783611bcc565b91507f55736572206973206e6f7420726567697374657265642e0000000000000000006000830152602082019050919050565b600060808301600083015161191f600086018261162f565b5060208301518482036020860152611937828261180e565b915050604083015161194c604086018261162f565b50606083015161195f606086018261196a565b508091505092915050565b61197381611c30565b82525050565b600061198582846117dd565b915081905092915050565b600060408201905081810360008301526119aa818561163e565b905081810360208301526119be818461169c565b90509392505050565b600060208201905081810360008301526119e18184611711565b905092915050565b60006020820190506119fe6000830184611786565b92915050565b6000602082019050611a196000830184611795565b92915050565b60006020820190508181036000830152611a3981846117a4565b905092915050565b60006020820190508181036000830152611a5a81611847565b9050919050565b60006020820190508181036000830152611a7a81611887565b9050919050565b60006020820190508181036000830152611a9a816118c7565b9050919050565b6000604051905081810181811067ffffffffffffffff82111715611ac457600080fd5b8060405250919050565b600067ffffffffffffffff821115611ae557600080fd5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600081905092915050565b6000611bf382611c10565b9050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015611c67578082015181840152602081019050611c4c565b83811115611c76576000848401525b50505050565b6000601f19601f8301169050919050565b611c9681611be8565b8114611ca157600080fd5b50565b611cad81611c06565b8114611cb857600080fd5b5056fea365627a7a72315820d5f449f27954f1a245a3567f4d94387e61096bf94f3d90cb11c03aca58e06cb06c6578706572696d656e74616cf564736f6c63430005100040",sourceMap:"59:5432:1:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;59:5432:1;;;;;;;",deployedSourceMap:"59:5432:1:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;59:5432:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2268:402;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;1638:561;;;:::i;:::-;;;;;;;;;;;;;;;;;3545:164;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;3391:101;;;:::i;:::-;;;;;;;;;;;;;;;;3056:109;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;3226;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;2677:318;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;637:998;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;4150:416;;;;;;;;;;;;;;;;:::i;:::-;;3754:116;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;4636:852;;;:::i;:::-;;;;;;;;;;;;;;;;2268:402;2334:4;2436:1;2399:5;:17;2405:10;2399:17;;;;;;;;;;;;;;;:26;;2393:40;;;;;;;;;;;;;;;;:44;2385:80;;;;;;;;;;;;;;;;;;;;;;2550:9;2520:5;:17;2526:10;2520:17;;;;;;;;;;;;;;;:27;;:39;;;;;;;;;;;;:::i;:::-;;2627:10;2610:39;;;2639:9;2610:39;;;;;;;;;;;;;;;2663:4;2656:11;;2268:402;;;:::o;1638:561::-;1692:16;1710:15;1733:17;1753:18;:25;;;;1733:45;;1784:26;1827:9;1813:24;;;;;;;;;;;;;;;;;;;;;;29:2:-1;21:6;17:15;117:4;105:10;97:6;88:34;148:4;140:6;136:17;126:27;;0:157;1813:24:1;;;;1784:53;;1843:25;1884:9;1871:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1843:51;;1906:9;1918:1;1906:13;;1901:260;1925:9;1921:1;:13;1901:260;;;1951:19;1973:18;1992:1;1973:21;;;;;;;;;;;;;;;;;;;;;;;;;1951:43;;2019:11;2004:9;2014:1;2004:12;;;;;;;;;;;;;:26;;;;;;;;;;;2084:5;:18;2090:11;2084:18;;;;;;;;;;;;;;;:27;;2069:42;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:9;2079:1;2069:12;;;;;;;;;;;;;:42;;;;1901:260;1936:3;;;;;;;1901:260;;;;2175:9;2186;2167:29;;;;;;;1638:561;;:::o;3545:164::-;3616:4;3696:8;3679:26;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;3679:26:1;;;3669:37;;;;;;3635:5;:17;3641:10;3635:17;;;;;;;;;;;;;;;:30;;;:71;3628:78;;3545:164;;;:::o;3391:101::-;3435:13;3463:5;:17;3469:10;3463:17;;;;;;;;;;;;;;;:26;;3456:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3391:101;:::o;3056:109::-;3113:13;3141:5;:11;3147:4;3141:11;;;;;;;;;;;;;;;:21;;3134:28;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3056:109;;;:::o;3226:::-;3286:7;3308:5;:11;3314:4;3308:11;;;;;;;;;;;;;;;:24;;;3301:31;;3226:109;;;:::o;2677:318::-;2742:4;2838:1;2801:5;:17;2807:10;2801:17;;;;;;;;;;;;;;;:26;;2795:40;;;;;;;;;;;;;;;;:44;2787:77;;;;;;;;;;;;;;;;;;;;;;2959:15;2926:5;:17;2932:10;2926:17;;;;;;;;;;;;;;;:30;;:48;;;;2988:4;2981:11;;2677:318;;;:::o;637:998::-;748:4;862:1;825:5;:17;831:10;825:17;;;;;;;;;;;;;;;:26;;819:40;;;;;;;;;;;;;;;;:44;815:151;;;949:5;942:12;;;;815:151;1096:172;;;;;;;;1125:8;1096:172;;;;1188:8;1171:26;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;1171:26:1;;;1161:37;;;;;;1096:172;;;;1248:9;1096:172;;;1076:5;:17;1082:10;1076:17;;;;;;;;;;;;;;;:192;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;1343:18;1367:10;1343:35;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;1343:35:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1472:10;1457:36;;;1484:8;1457:36;;;;;;;;;;;;;;;1525:10;1508:39;;;1537:9;1508:39;;;;;;;;;;;;;;;1623:4;1616:11;;637:998;;;;;;:::o;4150:416::-;4255:1;4234:23;;:9;:23;;;;4226:62;;;;;;;;;;;;;;;;;;;;;;4294:8;4308:200;;;;;;;;4337:9;4308:200;;;;;;4365:7;4308:200;;;;4390:10;4308:200;;;;;;4421:15;4308:200;;;4294:215;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;4294:215:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4552:10;4520:43;;4532:9;4520:43;;;4543:7;4520:43;;;;;;;;;;;;;;;4150:416;;:::o;3754:116::-;3819:13;3847:5;:11;3853:4;3847:11;;;;;;;;;;;;;;;:20;;3840:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3754:116;;;:::o;4636:852::-;4703:16;4727:20;4750:1;4727:24;;4841:9;4853:1;4841:13;;4836:178;4860:8;:15;;;;4856:1;:19;4836:178;;;4918:10;4896:32;;:8;4905:1;4896:11;;;;;;;;;;;;;;;;;;:18;;;;;;;;;;;;:32;;;:71;;;;4957:10;4932:35;;:8;4941:1;4932:11;;;;;;;;;;;;;;;;;;:21;;;;;;;;;;;;:35;;;4896:71;4892:116;;;4983:14;;;;;;;4892:116;4877:3;;;;;;;4836:178;;;;5073:28;5118:12;5104:27;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;5073:58;;5137:13;5153:1;5137:17;;5249:9;5261:1;5249:13;;5244:217;5268:8;:15;;;;5264:1;:19;5244:217;;;5326:10;5304:32;;:8;5313:1;5304:11;;;;;;;;;;;;;;;;;;:18;;;;;;;;;;;;:32;;;:71;;;;5365:10;5340:35;;:8;5349:1;5340:11;;;;;;;;;;;;;;;;;;:21;;;;;;;;;;;;:35;;;5304:71;5300:155;;;5412:8;5421:1;5412:11;;;;;;;;;;;;;;;;;;5391:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:11;5403:5;5391:18;;;;;;;;;;;;;:32;;;;5437:7;;;;;;;5300:155;5285:3;;;;;;;5244:217;;;;5474:11;5467:18;;;;;4636:852;:::o;59:5432::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;5:130:-1:-;;85:6;72:20;63:29;;97:33;124:5;97:33;;;57:78;;;;;142:130;;222:6;209:20;200:29;;234:33;261:5;234:33;;;194:78;;;;;280:442;;382:3;375:4;367:6;363:17;359:27;349:2;;400:1;397;390:12;349:2;437:6;424:20;459:65;474:49;516:6;474:49;;;459:65;;;450:74;;544:6;537:5;530:21;580:4;572:6;568:17;613:4;606:5;602:16;648:3;639:6;634:3;630:16;627:25;624:2;;;665:1;662;655:12;624:2;675:41;709:6;704:3;699;675:41;;;342:380;;;;;;;;730:241;;834:2;822:9;813:7;809:23;805:32;802:2;;;850:1;847;840:12;802:2;885:1;902:53;947:7;938:6;927:9;923:22;902:53;;;892:63;;864:97;796:175;;;;;978:472;;;1109:2;1097:9;1088:7;1084:23;1080:32;1077:2;;;1125:1;1122;1115:12;1077:2;1160:1;1177:53;1222:7;1213:6;1202:9;1198:22;1177:53;;;1167:63;;1139:97;1295:2;1284:9;1280:18;1267:32;1319:18;1311:6;1308:30;1305:2;;;1351:1;1348;1341:12;1305:2;1371:63;1426:7;1417:6;1406:9;1402:22;1371:63;;;1361:73;;1246:194;1071:379;;;;;;1457:241;;1561:2;1549:9;1540:7;1536:23;1532:32;1529:2;;;1577:1;1574;1567:12;1529:2;1612:1;1629:53;1674:7;1665:6;1654:9;1650:22;1629:53;;;1619:63;;1591:97;1523:175;;;;;1705:347;;1819:2;1807:9;1798:7;1794:23;1790:32;1787:2;;;1835:1;1832;1825:12;1787:2;1898:1;1887:9;1883:17;1870:31;1921:18;1913:6;1910:30;1907:2;;;1953:1;1950;1943:12;1907:2;1973:63;2028:7;2019:6;2008:9;2004:22;1973:63;;;1963:73;;1849:193;1781:271;;;;;2059:809;;;;2227:2;2215:9;2206:7;2202:23;2198:32;2195:2;;;2243:1;2240;2233:12;2195:2;2306:1;2295:9;2291:17;2278:31;2329:18;2321:6;2318:30;2315:2;;;2361:1;2358;2351:12;2315:2;2381:63;2436:7;2427:6;2416:9;2412:22;2381:63;;;2371:73;;2257:193;2509:2;2498:9;2494:18;2481:32;2533:18;2525:6;2522:30;2519:2;;;2565:1;2562;2555:12;2519:2;2585:63;2640:7;2631:6;2620:9;2616:22;2585:63;;;2575:73;;2460:194;2713:2;2702:9;2698:18;2685:32;2737:18;2729:6;2726:30;2723:2;;;2769:1;2766;2759:12;2723:2;2789:63;2844:7;2835:6;2824:9;2820:22;2789:63;;;2779:73;;2664:194;2189:679;;;;;;2876:173;;2963:46;3005:3;2997:6;2963:46;;;3038:4;3033:3;3029:14;3015:28;;2956:93;;;;;3058:181;;3171:62;3229:3;3221:6;3171:62;;;3157:76;;3150:89;;;;;3248:237;;3389:90;3475:3;3467:6;3389:90;;;3375:104;;3368:117;;;;;3493:103;3566:24;3584:5;3566:24;;;3561:3;3554:37;3548:48;;;3634:690;;3779:54;3827:5;3779:54;;;3846:86;3925:6;3920:3;3846:86;;;3839:93;;3953:56;4003:5;3953:56;;;4029:7;4057:1;4042:260;4067:6;4064:1;4061:13;4042:260;;;4134:6;4128:13;4155:63;4214:3;4199:13;4155:63;;;4148:70;;4235:60;4288:6;4235:60;;;4225:70;;4099:203;4089:1;4086;4082:9;4077:14;;4042:260;;;4046:14;4315:3;4308:10;;3758:566;;;;;;;;4361:896;;4518:60;4572:5;4518:60;;;4591:92;4676:6;4671:3;4591:92;;;4584:99;;4706:3;4748:4;4740:6;4736:17;4731:3;4727:27;4775:62;4831:5;4775:62;;;4857:7;4885:1;4870:348;4895:6;4892:1;4889:13;4870:348;;;4957:9;4951:4;4947:20;4942:3;4935:33;5002:6;4996:13;5024:76;5095:4;5080:13;5024:76;;;5016:84;;5117:66;5176:6;5117:66;;;5107:76;;5206:4;5201:3;5197:14;5190:21;;4927:291;4917:1;4914;4910:9;4905:14;;4870:348;;;4874:14;5231:4;5224:11;;5248:3;5241:10;;4497:760;;;;;;;;;;5336:1008;;5521:74;5589:5;5521:74;;;5608:106;5707:6;5702:3;5608:106;;;5601:113;;5737:3;5779:4;5771:6;5767:17;5762:3;5758:27;5806:76;5876:5;5806:76;;;5902:7;5930:1;5915:390;5940:6;5937:1;5934:13;5915:390;;;6002:9;5996:4;5992:20;5987:3;5980:33;6047:6;6041:13;6069:104;6168:4;6153:13;6069:104;;;6061:112;;6190:80;6263:6;6190:80;;;6180:90;;6293:4;6288:3;6284:14;6277:21;;5972:333;5962:1;5959;5955:9;5950:14;;5915:390;;;5919:14;6318:4;6311:11;;6335:3;6328:10;;5500:844;;;;;;;;;;6352:104;6429:21;6444:5;6429:21;;;6424:3;6417:34;6411:45;;;6463:113;6546:24;6564:5;6546:24;;;6541:3;6534:37;6528:48;;;6583:347;;6695:39;6728:5;6695:39;;;6746:71;6810:6;6805:3;6746:71;;;6739:78;;6822:52;6867:6;6862:3;6855:4;6848:5;6844:16;6822:52;;;6895:29;6917:6;6895:29;;;6890:3;6886:39;6879:46;;6675:255;;;;;;6937:360;;7067:39;7100:5;7067:39;;;7118:89;7200:6;7195:3;7118:89;;;7111:96;;7212:52;7257:6;7252:3;7245:4;7238:5;7234:16;7212:52;;;7285:6;7280:3;7276:16;7269:23;;7047:250;;;;;;7304:319;;7402:35;7431:5;7402:35;;;7449:61;7503:6;7498:3;7449:61;;;7442:68;;7515:52;7560:6;7555:3;7548:4;7541:5;7537:16;7515:52;;;7588:29;7610:6;7588:29;;;7583:3;7579:39;7572:46;;7382:241;;;;;;7631:326;;7791:67;7855:2;7850:3;7791:67;;;7784:74;;7891:28;7887:1;7882:3;7878:11;7871:49;7948:2;7943:3;7939:12;7932:19;;7777:180;;;;7966:320;;8126:67;8190:2;8185:3;8126:67;;;8119:74;;8226:22;8222:1;8217:3;8213:11;8206:43;8277:2;8272:3;8268:12;8261:19;;8112:174;;;;8295:323;;8455:67;8519:2;8514:3;8455:67;;;8448:74;;8555:25;8551:1;8546:3;8542:11;8535:46;8609:2;8604:3;8600:12;8593:19;;8441:177;;;;8691:874;;8826:4;8821:3;8817:14;8914:4;8907:5;8903:16;8897:23;8926:63;8983:4;8978:3;8974:14;8960:12;8926:63;;;8846:149;9071:4;9064:5;9060:16;9054:23;9123:3;9117:4;9113:14;9106:4;9101:3;9097:14;9090:38;9143:69;9207:4;9193:12;9143:69;;;9135:77;;9005:219;9299:4;9292:5;9288:16;9282:23;9311:63;9368:4;9363:3;9359:14;9345:12;9311:63;;;9234:146;9458:4;9451:5;9447:16;9441:23;9470:63;9527:4;9522:3;9518:14;9504:12;9470:63;;;9390:149;9556:4;9549:11;;8799:766;;;;;;9572:103;9645:24;9663:5;9645:24;;;9640:3;9633:37;9627:48;;;9682:266;;9828:95;9919:3;9910:6;9828:95;;;9821:102;;9940:3;9933:10;;9809:139;;;;;9955:644;;10213:2;10202:9;10198:18;10190:26;;10263:9;10257:4;10253:20;10249:1;10238:9;10234:17;10227:47;10288:108;10391:4;10382:6;10288:108;;;10280:116;;10444:9;10438:4;10434:20;10429:2;10418:9;10414:18;10407:48;10469:120;10584:4;10575:6;10469:120;;;10461:128;;10184:415;;;;;;10606:441;;10814:2;10803:9;10799:18;10791:26;;10864:9;10858:4;10854:20;10850:1;10839:9;10835:17;10828:47;10889:148;11032:4;11023:6;10889:148;;;10881:156;;10785:262;;;;;11054:201;;11166:2;11155:9;11151:18;11143:26;;11180:65;11242:1;11231:9;11227:17;11218:6;11180:65;;;11137:118;;;;;11262:213;;11380:2;11369:9;11365:18;11357:26;;11394:71;11462:1;11451:9;11447:17;11438:6;11394:71;;;11351:124;;;;;11482:301;;11620:2;11609:9;11605:18;11597:26;;11670:9;11664:4;11660:20;11656:1;11645:9;11641:17;11634:47;11695:78;11768:4;11759:6;11695:78;;;11687:86;;11591:192;;;;;11790:407;;11981:2;11970:9;11966:18;11958:26;;12031:9;12025:4;12021:20;12017:1;12006:9;12002:17;11995:47;12056:131;12182:4;12056:131;;;12048:139;;11952:245;;;;12204:407;;12395:2;12384:9;12380:18;12372:26;;12445:9;12439:4;12435:20;12431:1;12420:9;12416:17;12409:47;12470:131;12596:4;12470:131;;;12462:139;;12366:245;;;;12618:407;;12809:2;12798:9;12794:18;12786:26;;12859:9;12853:4;12849:20;12845:1;12834:9;12830:17;12823:47;12884:131;13010:4;12884:131;;;12876:139;;12780:245;;;;13032:256;;13094:2;13088:9;13078:19;;13132:4;13124:6;13120:17;13231:6;13219:10;13216:22;13195:18;13183:10;13180:34;13177:62;13174:2;;;13252:1;13249;13242:12;13174:2;13272:10;13268:2;13261:22;13072:216;;;;;13295:322;;13439:18;13431:6;13428:30;13425:2;;;13471:1;13468;13461:12;13425:2;13538:4;13534:9;13527:4;13519:6;13515:17;13511:33;13503:41;;13602:4;13596;13592:15;13584:23;;13362:255;;;;13624:151;;13710:3;13702:11;;13748:4;13743:3;13739:14;13731:22;;13696:79;;;;13782:157;;13874:3;13866:11;;13912:4;13907:3;13903:14;13895:22;;13860:79;;;;13946:171;;14052:3;14044:11;;14090:4;14085:3;14081:14;14073:22;;14038:79;;;;14124:137;;14233:5;14227:12;14217:22;;14198:63;;;;14268:143;;14383:5;14377:12;14367:22;;14348:63;;;;14418:157;;14547:5;14541:12;14531:22;;14512:63;;;;14582:118;;14672:5;14666:12;14656:22;;14637:63;;;;14707:122;;14801:5;14795:12;14785:22;;14766:63;;;;14836:108;;14934:4;14929:3;14925:14;14917:22;;14911:33;;;;14951:114;;15055:4;15050:3;15046:14;15038:22;;15032:33;;;;15072:128;;15190:4;15185:3;15181:14;15173:22;;15167:33;;;;15208:178;;15338:6;15333:3;15326:19;15375:4;15370:3;15366:14;15351:29;;15319:67;;;;;15395:184;;15531:6;15526:3;15519:19;15568:4;15563:3;15559:14;15544:29;;15512:67;;;;;15588:198;;15738:6;15733:3;15726:19;15775:4;15770:3;15766:14;15751:29;;15719:67;;;;;15795:153;;15900:6;15895:3;15888:19;15937:4;15932:3;15928:14;15913:29;;15881:67;;;;;15957:163;;16072:6;16067:3;16060:19;16109:4;16104:3;16100:14;16085:29;;16053:67;;;;;16129:145;;16265:3;16250:18;;16243:31;;;;;16282:91;;16344:24;16362:5;16344:24;;;16333:35;;16327:46;;;;16380:85;;16453:5;16446:13;16439:21;16428:32;;16422:43;;;;16472:72;;16534:5;16523:16;;16517:27;;;;16551:121;;16624:42;16617:5;16613:54;16602:65;;16596:76;;;;16679:72;;16741:5;16730:16;;16724:27;;;;16759:145;16840:6;16835:3;16830;16817:30;16896:1;16887:6;16882:3;16878:16;16871:27;16810:94;;;;16913:268;16978:1;16985:101;16999:6;16996:1;16993:13;16985:101;;;17075:1;17070:3;17066:11;17060:18;17056:1;17051:3;17047:11;17040:39;17021:2;17018:1;17014:10;17009:15;;16985:101;;;17101:6;17098:1;17095:13;17092:2;;;17166:1;17157:6;17152:3;17148:16;17141:27;17092:2;16962:219;;;;;17189:97;;17277:2;17273:7;17268:2;17261:5;17257:14;17253:28;17243:38;;17237:49;;;;17294:117;17363:24;17381:5;17363:24;;;17356:5;17353:35;17343:2;;17402:1;17399;17392:12;17343:2;17337:74;;17418:117;17487:24;17505:5;17487:24;;;17480:5;17477:35;17467:2;;17526:1;17523;17516:12;17467:2;17461:74;",source:'pragma solidity ^0.5.0;\npragma experimental ABIEncoderV2;\n\ncontract MessageStore {\nstruct User {\n        string username;\n        bytes32 passwordHash;\n        string publicKey;\n    }\naddress[] private allRegisteredUsers; // Array to store registered users\' addresses\n\n   // Mapping from user address to their user information (username, hashed password, and public key)\n    mapping(address => User) private users;\n\n  event UserRegistered(address indexed user, string username);\n    event PublicKeyUpdated(address indexed user, string publicKey);\n\n        // Function to register a new user with a username, password, and public key\n    function registerUser(string memory username, string memory publicKey, string memory password) public returns (bool) {\n        // Check if the user is already registered\n        if (bytes(users[msg.sender].username).length > 0) {\n            // If the user is already registered, return false\n            return false; \n        }\n\n        // If not registered, save the username, hashed password, and public key in the User struct\n        users[msg.sender] = User({\n            username: username,\n            passwordHash: keccak256(abi.encodePacked(password)), // Store hashed password\n            publicKey: publicKey\n        });\n        \n        // Add the user to the list of registered users\n        allRegisteredUsers.push(msg.sender);\n\n        // Emit the UserRegistered and PublicKeyUpdated events\n        emit UserRegistered(msg.sender, username);\n        emit PublicKeyUpdated(msg.sender, publicKey);\n\n        // Return true indicating successful registration\n        return true; \n    }\n\n\nfunction getAllRegisteredUsers() public view returns (address[] memory, string[] memory) {\n    uint256 userCount = allRegisteredUsers.length;\n    address[] memory addresses = new address[](userCount);\n    string[] memory usernames = new string[](userCount);\n\n    for (uint256 i = 0; i < userCount; i++) {\n        address userAddress = allRegisteredUsers[i];\n        addresses[i] = userAddress; // Store each user\'s address\n        usernames[i] = users[userAddress].username; // Retrieve and store each user\'s username\n    }\n\n    return (addresses, usernames);\n}\n\n\n    \n\n\n// Function to update the public key of the logged-in user\nfunction updatePublicKey(string memory publicKey) public returns (bool) {\n    // Check if the user is registered\n    require(bytes(users[msg.sender].username).length > 0, "User is not registered.");\n\n    // Update the public key in the User struct\n    users[msg.sender].publicKey = publicKey;\n\n    // Emit the PublicKeyUpdated event\n    emit PublicKeyUpdated(msg.sender, publicKey);\n\n    return true;\n}\n\n\n\n\n\n\nfunction changePassword(bytes32 newPasswordHash) public returns (bool) {\n    // Ensure user is registered\n    require(bytes(users[msg.sender].username).length > 0, "User not registered.");\n\n    // Update the password hash within the User struct\n    users[msg.sender].passwordHash = newPasswordHash;\n\n    return true;\n}\n\n\n\n\n// Function to get the public key of a specific address\nfunction getPublicKey(address user) public view returns (string memory) {\n    return users[user].publicKey;\n}\n\n// Function to get the password hash of a specific address\nfunction getPasswordHash(address user) public view returns (bytes32) {\n    return users[user].passwordHash;\n}\n\n// Function to get the username of the logged-in user\nfunction getUsername() public view returns (string memory) {\n    return users[msg.sender].username;\n}\n\n\n   // Function to validate the password for login\nfunction validatePassword(string memory password) public view returns (bool) {\n    return users[msg.sender].passwordHash == keccak256(abi.encodePacked(password));\n}\n\n// Function to get the username by address\nfunction getUsernameByAddress(address user) public view returns (string memory) {\n    return users[user].username;\n}\n\nstruct Message {\n    address recipient;\n    string content;\n    address sender;\n    uint256 timestamp;  \n}\n\nMessage[] private messages;\n\nevent MessageSent(address indexed recipient, string content, address indexed sender);\n\n// Function to send a message to a specific recipient\nfunction sendMessage(address recipient, string memory content) public {\n    require(recipient != address(0), "Invalid recipient address.");\n    messages.push(Message({\n        recipient: recipient,\n        content: content,\n        sender: msg.sender,\n        timestamp: block.timestamp  // Capture the timestamp (use block.timestamp instead of `now`)\n    }));\n    emit MessageSent(recipient, content, msg.sender);\n}\n\n// Fetch all messages (sent and received) for the logged-in account\nfunction fetchAllMessagesForLoggedInAccount() public view returns (Message[] memory) {\n    uint256 messageCount = 0;\n\n    // Count all messages related to the logged-in address (sent or received)\n    for (uint256 i = 0; i < messages.length; i++) {\n        if (messages[i].sender == msg.sender || messages[i].recipient == msg.sender) {\n            messageCount++;\n        }\n    }\n\n    // Create an array to store the fetched messages\n    Message[] memory allMessages = new Message[](messageCount);\n    uint256 index = 0;\n\n    // Store the messages in the array (sent or received by the logged-in address)\n    for (uint256 i = 0; i < messages.length; i++) {\n        if (messages[i].sender == msg.sender || messages[i].recipient == msg.sender) {\n            allMessages[index] = messages[i];\n            index++;\n        }\n    }\n\n    return allMessages;\n}\n\n}\n',sourcePath:"/Users/aditiwagh/Desktop/internship/groupchat/encryptiontest/src/contracts/MessageStore.sol",ast:{absolutePath:"project:/src/contracts/MessageStore.sol",exportedSymbols:{MessageStore:[495]},id:496,nodeType:"SourceUnit",nodes:[{id:32,literals:["solidity","^","0.5",".0"],nodeType:"PragmaDirective",src:"0:23:1"},{id:33,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"24:33:1"},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:null,fullyImplemented:!0,id:495,linearizedBaseContracts:[495],name:"MessageStore",nodeType:"ContractDefinition",nodes:[{canonicalName:"MessageStore.User",id:40,members:[{constant:!1,id:35,name:"username",nodeType:"VariableDeclaration",scope:40,src:"105:15:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"},typeName:{id:34,name:"string",nodeType:"ElementaryTypeName",src:"105:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"},{constant:!1,id:37,name:"passwordHash",nodeType:"VariableDeclaration",scope:40,src:"130:20:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:36,name:"bytes32",nodeType:"ElementaryTypeName",src:"130:7:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:39,name:"publicKey",nodeType:"VariableDeclaration",scope:40,src:"160:16:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"},typeName:{id:38,name:"string",nodeType:"ElementaryTypeName",src:"160:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],name:"User",nodeType:"StructDefinition",scope:495,src:"83:100:1",visibility:"public"},{constant:!1,id:43,name:"allRegisteredUsers",nodeType:"VariableDeclaration",scope:495,src:"184:36:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[]"},typeName:{baseType:{id:41,name:"address",nodeType:"ElementaryTypeName",src:"184:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:42,length:null,nodeType:"ArrayTypeName",src:"184:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"private"},{constant:!1,id:47,name:"users",nodeType:"VariableDeclaration",scope:495,src:"375:38:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User)"},typeName:{id:46,keyType:{id:44,name:"address",nodeType:"ElementaryTypeName",src:"383:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Mapping",src:"375:24:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User)"},valueType:{contractScope:null,id:45,name:"User",nodeType:"UserDefinedTypeName",referencedDeclaration:40,src:"394:4:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage_ptr",typeString:"struct MessageStore.User"}}},value:null,visibility:"private"},{anonymous:!1,documentation:null,id:53,name:"UserRegistered",nodeType:"EventDefinition",parameters:{id:52,nodeType:"ParameterList",parameters:[{constant:!1,id:49,indexed:!0,name:"user",nodeType:"VariableDeclaration",scope:53,src:"439:20:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:48,name:"address",nodeType:"ElementaryTypeName",src:"439:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:51,indexed:!1,name:"username",nodeType:"VariableDeclaration",scope:53,src:"461:15:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:50,name:"string",nodeType:"ElementaryTypeName",src:"461:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"438:39:1"},src:"418:60:1"},{anonymous:!1,documentation:null,id:59,name:"PublicKeyUpdated",nodeType:"EventDefinition",parameters:{id:58,nodeType:"ParameterList",parameters:[{constant:!1,id:55,indexed:!0,name:"user",nodeType:"VariableDeclaration",scope:59,src:"506:20:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:54,name:"address",nodeType:"ElementaryTypeName",src:"506:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:57,indexed:!1,name:"publicKey",nodeType:"VariableDeclaration",scope:59,src:"528:16:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:56,name:"string",nodeType:"ElementaryTypeName",src:"528:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"505:40:1"},src:"483:63:1"},{body:{id:121,nodeType:"Block",src:"754:881:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:79,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:71,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"825:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:74,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:72,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"831:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:73,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"831:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"825:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:75,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"username",nodeType:"MemberAccess",referencedDeclaration:35,src:"825:26:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],id:70,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"819:5:1",typeDescriptions:{typeIdentifier:"t_type$_t_bytes_storage_ptr_$",typeString:"type(bytes storage pointer)"},typeName:"bytes"},id:76,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"819:33:1",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes storage pointer"}},id:77,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"819:40:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:78,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"862:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"819:44:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:83,nodeType:"IfStatement",src:"815:151:1",trueBody:{id:82,nodeType:"Block",src:"865:101:1",statements:[{expression:{argumentTypes:null,hexValue:"66616c7365",id:80,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"949:5:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:69,id:81,nodeType:"Return",src:"942:12:1"}]}},{expression:{argumentTypes:null,id:98,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:84,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"1076:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:87,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:85,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"1082:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:86,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1082:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"1076:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:89,name:"username",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:61,src:"1125:8:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:93,name:"password",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:65,src:"1188:8:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],expression:{argumentTypes:null,id:91,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:554,src:"1171:3:1",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:92,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"1171:16:1",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:94,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1171:26:1",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:90,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:561,src:"1161:9:1",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:95,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1161:37:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:96,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:63,src:"1248:9:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],id:88,name:"User",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:40,src:"1096:4:1",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_User_$40_storage_ptr_$",typeString:"type(struct MessageStore.User storage pointer)"}},id:97,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["username","passwordHash","publicKey"],nodeType:"FunctionCall",src:"1096:172:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_memory",typeString:"struct MessageStore.User memory"}},src:"1076:192:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:99,nodeType:"ExpressionStatement",src:"1076:192:1"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:103,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"1367:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:104,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1367:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:100,name:"allRegisteredUsers",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:43,src:"1343:18:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:102,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"1343:23:1",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_address_$returns$_t_uint256_$",typeString:"function (address) returns (uint256)"}},id:105,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1343:35:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:106,nodeType:"ExpressionStatement",src:"1343:35:1"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:108,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"1472:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:109,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1472:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:110,name:"username",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:61,src:"1484:8:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],id:107,name:"UserRegistered",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:53,src:"1457:14:1",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_string_memory_ptr_$returns$__$",typeString:"function (address,string memory)"}},id:111,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1457:36:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:112,nodeType:"EmitStatement",src:"1452:41:1"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:114,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"1525:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:115,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1525:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:116,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:63,src:"1537:9:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],id:113,name:"PublicKeyUpdated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:59,src:"1508:16:1",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_string_memory_ptr_$returns$__$",typeString:"function (address,string memory)"}},id:117,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1508:39:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:118,nodeType:"EmitStatement",src:"1503:44:1"},{expression:{argumentTypes:null,hexValue:"74727565",id:119,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1623:4:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:69,id:120,nodeType:"Return",src:"1616:11:1"}]},documentation:null,id:122,implemented:!0,kind:"function",modifiers:[],name:"registerUser",nodeType:"FunctionDefinition",parameters:{id:66,nodeType:"ParameterList",parameters:[{constant:!1,id:61,name:"username",nodeType:"VariableDeclaration",scope:122,src:"659:22:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:60,name:"string",nodeType:"ElementaryTypeName",src:"659:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"},{constant:!1,id:63,name:"publicKey",nodeType:"VariableDeclaration",scope:122,src:"683:23:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:62,name:"string",nodeType:"ElementaryTypeName",src:"683:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"},{constant:!1,id:65,name:"password",nodeType:"VariableDeclaration",scope:122,src:"708:22:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:64,name:"string",nodeType:"ElementaryTypeName",src:"708:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"658:73:1"},returnParameters:{id:69,nodeType:"ParameterList",parameters:[{constant:!1,id:68,name:"",nodeType:"VariableDeclaration",scope:122,src:"748:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:67,name:"bool",nodeType:"ElementaryTypeName",src:"748:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"747:6:1"},scope:495,src:"637:998:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:193,nodeType:"Block",src:"1727:472:1",statements:[{assignments:[132],declarations:[{constant:!1,id:132,name:"userCount",nodeType:"VariableDeclaration",scope:193,src:"1733:17:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:131,name:"uint256",nodeType:"ElementaryTypeName",src:"1733:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:135,initialValue:{argumentTypes:null,expression:{argumentTypes:null,id:133,name:"allRegisteredUsers",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:43,src:"1753:18:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:134,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"1753:25:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"1733:45:1"},{assignments:[139],declarations:[{constant:!1,id:139,name:"addresses",nodeType:"VariableDeclaration",scope:193,src:"1784:26:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:137,name:"address",nodeType:"ElementaryTypeName",src:"1784:7:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:138,length:null,nodeType:"ArrayTypeName",src:"1784:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"}],id:145,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:143,name:"userCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:132,src:"1827:9:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:142,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"NewExpression",src:"1813:13:1",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_$",typeString:"function (uint256) pure returns (address[] memory)"},typeName:{baseType:{id:140,name:"address",nodeType:"ElementaryTypeName",src:"1817:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:141,length:null,nodeType:"ArrayTypeName",src:"1817:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}}},id:144,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1813:24:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory",typeString:"address[] memory"}},nodeType:"VariableDeclarationStatement",src:"1784:53:1"},{assignments:[149],declarations:[{constant:!1,id:149,name:"usernames",nodeType:"VariableDeclaration",scope:193,src:"1843:25:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_string_memory_$dyn_memory_ptr",typeString:"string[]"},typeName:{baseType:{id:147,name:"string",nodeType:"ElementaryTypeName",src:"1843:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},id:148,length:null,nodeType:"ArrayTypeName",src:"1843:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage_ptr",typeString:"string[]"}},value:null,visibility:"internal"}],id:155,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:153,name:"userCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:132,src:"1884:9:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:152,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"NewExpression",src:"1871:12:1",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_string_memory_$dyn_memory_$",typeString:"function (uint256) pure returns (string memory[] memory)"},typeName:{baseType:{id:150,name:"string",nodeType:"ElementaryTypeName",src:"1875:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},id:151,length:null,nodeType:"ArrayTypeName",src:"1875:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage_ptr",typeString:"string[]"}}},id:154,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1871:23:1",typeDescriptions:{typeIdentifier:"t_array$_t_string_memory_$dyn_memory",typeString:"string memory[] memory"}},nodeType:"VariableDeclarationStatement",src:"1843:51:1"},{body:{id:187,nodeType:"Block",src:"1941:220:1",statements:[{assignments:[167],declarations:[{constant:!1,id:167,name:"userAddress",nodeType:"VariableDeclaration",scope:187,src:"1951:19:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:166,name:"address",nodeType:"ElementaryTypeName",src:"1951:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:171,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:168,name:"allRegisteredUsers",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:43,src:"1973:18:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage",typeString:"address[] storage ref"}},id:170,indexExpression:{argumentTypes:null,id:169,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:157,src:"1992:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1973:21:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"1951:43:1"},{expression:{argumentTypes:null,id:176,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:172,name:"addresses",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:139,src:"2004:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},id:174,indexExpression:{argumentTypes:null,id:173,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:157,src:"2014:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2004:12:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:175,name:"userAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:167,src:"2019:11:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2004:26:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:177,nodeType:"ExpressionStatement",src:"2004:26:1"},{expression:{argumentTypes:null,id:185,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:178,name:"usernames",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:149,src:"2069:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_string_memory_$dyn_memory_ptr",typeString:"string memory[] memory"}},id:180,indexExpression:{argumentTypes:null,id:179,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:157,src:"2079:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2069:12:1",typeDescriptions:{typeIdentifier:"t_string_memory",typeString:"string memory"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:181,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"2084:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:183,indexExpression:{argumentTypes:null,id:182,name:"userAddress",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:167,src:"2090:11:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2084:18:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:184,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"username",nodeType:"MemberAccess",referencedDeclaration:35,src:"2084:27:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},src:"2069:42:1",typeDescriptions:{typeIdentifier:"t_string_memory",typeString:"string memory"}},id:186,nodeType:"ExpressionStatement",src:"2069:42:1"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:162,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:160,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:157,src:"1921:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:161,name:"userCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:132,src:"1925:9:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1921:13:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:188,initializationExpression:{assignments:[157],declarations:[{constant:!1,id:157,name:"i",nodeType:"VariableDeclaration",scope:188,src:"1906:9:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:156,name:"uint256",nodeType:"ElementaryTypeName",src:"1906:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:159,initialValue:{argumentTypes:null,hexValue:"30",id:158,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1918:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"1906:13:1"},loopExpression:{expression:{argumentTypes:null,id:164,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"1936:3:1",subExpression:{argumentTypes:null,id:163,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:157,src:"1936:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:165,nodeType:"ExpressionStatement",src:"1936:3:1"},nodeType:"ForStatement",src:"1901:260:1"},{expression:{argumentTypes:null,components:[{argumentTypes:null,id:189,name:"addresses",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:139,src:"2175:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[] memory"}},{argumentTypes:null,id:190,name:"usernames",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:149,src:"2186:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_string_memory_$dyn_memory_ptr",typeString:"string memory[] memory"}}],id:191,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"2174:22:1",typeDescriptions:{typeIdentifier:"t_tuple$_t_array$_t_address_$dyn_memory_ptr_$_t_array$_t_string_memory_$dyn_memory_ptr_$",typeString:"tuple(address[] memory,string memory[] memory)"}},functionReturnParameters:130,id:192,nodeType:"Return",src:"2167:29:1"}]},documentation:null,id:194,implemented:!0,kind:"function",modifiers:[],name:"getAllRegisteredUsers",nodeType:"FunctionDefinition",parameters:{id:123,nodeType:"ParameterList",parameters:[],src:"1668:2:1"},returnParameters:{id:130,nodeType:"ParameterList",parameters:[{constant:!1,id:126,name:"",nodeType:"VariableDeclaration",scope:194,src:"1692:16:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_memory_ptr",typeString:"address[]"},typeName:{baseType:{id:124,name:"address",nodeType:"ElementaryTypeName",src:"1692:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:125,length:null,nodeType:"ArrayTypeName",src:"1692:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_address_$dyn_storage_ptr",typeString:"address[]"}},value:null,visibility:"internal"},{constant:!1,id:129,name:"",nodeType:"VariableDeclaration",scope:194,src:"1710:15:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_string_memory_$dyn_memory_ptr",typeString:"string[]"},typeName:{baseType:{id:127,name:"string",nodeType:"ElementaryTypeName",src:"1710:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},id:128,length:null,nodeType:"ArrayTypeName",src:"1710:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage_ptr",typeString:"string[]"}},value:null,visibility:"internal"}],src:"1691:35:1"},scope:495,src:"1638:561:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:231,nodeType:"Block",src:"2340:330:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:211,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:203,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"2399:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:206,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:204,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"2405:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:205,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2405:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2399:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:207,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"username",nodeType:"MemberAccess",referencedDeclaration:35,src:"2399:26:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],id:202,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2393:5:1",typeDescriptions:{typeIdentifier:"t_type$_t_bytes_storage_ptr_$",typeString:"type(bytes storage pointer)"},typeName:"bytes"},id:208,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2393:33:1",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes storage pointer"}},id:209,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2393:40:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:210,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2436:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2393:44:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"55736572206973206e6f7420726567697374657265642e",id:212,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2439:25:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ff9f049869e48255e38a716ec9b48b07c340a2ec1b53026b1a30a53f9fa29bf7",typeString:'literal_string "User is not registered."'},value:"User is not registered."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ff9f049869e48255e38a716ec9b48b07c340a2ec1b53026b1a30a53f9fa29bf7",typeString:'literal_string "User is not registered."'}],id:201,name:"require",nodeType:"Identifier",overloadedDeclarations:[570,571],referencedDeclaration:571,src:"2385:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:213,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2385:80:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:214,nodeType:"ExpressionStatement",src:"2385:80:1"},{expression:{argumentTypes:null,id:221,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:215,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"2520:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:218,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:216,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"2526:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:217,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2526:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2520:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:219,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,memberName:"publicKey",nodeType:"MemberAccess",referencedDeclaration:39,src:"2520:27:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:220,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:196,src:"2550:9:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},src:"2520:39:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},id:222,nodeType:"ExpressionStatement",src:"2520:39:1"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:224,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"2627:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:225,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2627:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:226,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:196,src:"2639:9:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],id:223,name:"PublicKeyUpdated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:59,src:"2610:16:1",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_string_memory_ptr_$returns$__$",typeString:"function (address,string memory)"}},id:227,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2610:39:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:228,nodeType:"EmitStatement",src:"2605:44:1"},{expression:{argumentTypes:null,hexValue:"74727565",id:229,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"2663:4:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:200,id:230,nodeType:"Return",src:"2656:11:1"}]},documentation:null,id:232,implemented:!0,kind:"function",modifiers:[],name:"updatePublicKey",nodeType:"FunctionDefinition",parameters:{id:197,nodeType:"ParameterList",parameters:[{constant:!1,id:196,name:"publicKey",nodeType:"VariableDeclaration",scope:232,src:"2293:23:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:195,name:"string",nodeType:"ElementaryTypeName",src:"2293:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"2292:25:1"},returnParameters:{id:200,nodeType:"ParameterList",parameters:[{constant:!1,id:199,name:"",nodeType:"VariableDeclaration",scope:232,src:"2334:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:198,name:"bool",nodeType:"ElementaryTypeName",src:"2334:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"2333:6:1"},scope:495,src:"2268:402:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:263,nodeType:"Block",src:"2748:247:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:249,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:241,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"2801:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:244,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:242,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"2807:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:243,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2807:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2801:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:245,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"username",nodeType:"MemberAccess",referencedDeclaration:35,src:"2801:26:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],id:240,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2795:5:1",typeDescriptions:{typeIdentifier:"t_type$_t_bytes_storage_ptr_$",typeString:"type(bytes storage pointer)"},typeName:"bytes"},id:246,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2795:33:1",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes storage pointer"}},id:247,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2795:40:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:248,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2838:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2795:44:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"55736572206e6f7420726567697374657265642e",id:250,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2841:22:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_d7a837b81caae033a7be9ec4534e99638cf106c36592583903313f147edcb04b",typeString:'literal_string "User not registered."'},value:"User not registered."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_d7a837b81caae033a7be9ec4534e99638cf106c36592583903313f147edcb04b",typeString:'literal_string "User not registered."'}],id:239,name:"require",nodeType:"Identifier",overloadedDeclarations:[570,571],referencedDeclaration:571,src:"2787:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:251,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2787:77:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:252,nodeType:"ExpressionStatement",src:"2787:77:1"},{expression:{argumentTypes:null,id:259,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:253,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"2926:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:256,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:254,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"2932:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:255,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2932:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2926:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:257,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,memberName:"passwordHash",nodeType:"MemberAccess",referencedDeclaration:37,src:"2926:30:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:258,name:"newPasswordHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"2959:15:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2926:48:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:260,nodeType:"ExpressionStatement",src:"2926:48:1"},{expression:{argumentTypes:null,hexValue:"74727565",id:261,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"2988:4:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:238,id:262,nodeType:"Return",src:"2981:11:1"}]},documentation:null,id:264,implemented:!0,kind:"function",modifiers:[],name:"changePassword",nodeType:"FunctionDefinition",parameters:{id:235,nodeType:"ParameterList",parameters:[{constant:!1,id:234,name:"newPasswordHash",nodeType:"VariableDeclaration",scope:264,src:"2701:23:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:233,name:"bytes32",nodeType:"ElementaryTypeName",src:"2701:7:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"2700:25:1"},returnParameters:{id:238,nodeType:"ParameterList",parameters:[{constant:!1,id:237,name:"",nodeType:"VariableDeclaration",scope:264,src:"2742:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:236,name:"bool",nodeType:"ElementaryTypeName",src:"2742:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"2741:6:1"},scope:495,src:"2677:318:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:276,nodeType:"Block",src:"3128:37:1",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:271,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"3141:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:273,indexExpression:{argumentTypes:null,id:272,name:"user",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:266,src:"3147:4:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"3141:11:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:274,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"publicKey",nodeType:"MemberAccess",referencedDeclaration:39,src:"3141:21:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},functionReturnParameters:270,id:275,nodeType:"Return",src:"3134:28:1"}]},documentation:null,id:277,implemented:!0,kind:"function",modifiers:[],name:"getPublicKey",nodeType:"FunctionDefinition",parameters:{id:267,nodeType:"ParameterList",parameters:[{constant:!1,id:266,name:"user",nodeType:"VariableDeclaration",scope:277,src:"3078:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:265,name:"address",nodeType:"ElementaryTypeName",src:"3078:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"3077:14:1"},returnParameters:{id:270,nodeType:"ParameterList",parameters:[{constant:!1,id:269,name:"",nodeType:"VariableDeclaration",scope:277,src:"3113:13:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:268,name:"string",nodeType:"ElementaryTypeName",src:"3113:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"3112:15:1"},scope:495,src:"3056:109:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:289,nodeType:"Block",src:"3295:40:1",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:284,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"3308:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:286,indexExpression:{argumentTypes:null,id:285,name:"user",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:279,src:"3314:4:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"3308:11:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:287,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"passwordHash",nodeType:"MemberAccess",referencedDeclaration:37,src:"3308:24:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},functionReturnParameters:283,id:288,nodeType:"Return",src:"3301:31:1"}]},documentation:null,id:290,implemented:!0,kind:"function",modifiers:[],name:"getPasswordHash",nodeType:"FunctionDefinition",parameters:{id:280,nodeType:"ParameterList",parameters:[{constant:!1,id:279,name:"user",nodeType:"VariableDeclaration",scope:290,src:"3251:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:278,name:"address",nodeType:"ElementaryTypeName",src:"3251:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"3250:14:1"},returnParameters:{id:283,nodeType:"ParameterList",parameters:[{constant:!1,id:282,name:"",nodeType:"VariableDeclaration",scope:290,src:"3286:7:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:281,name:"bytes32",nodeType:"ElementaryTypeName",src:"3286:7:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"3285:9:1"},scope:495,src:"3226:109:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:301,nodeType:"Block",src:"3450:42:1",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:295,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"3463:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:298,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:296,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"3469:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:297,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"3469:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"3463:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:299,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"username",nodeType:"MemberAccess",referencedDeclaration:35,src:"3463:26:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},functionReturnParameters:294,id:300,nodeType:"Return",src:"3456:33:1"}]},documentation:null,id:302,implemented:!0,kind:"function",modifiers:[],name:"getUsername",nodeType:"FunctionDefinition",parameters:{id:291,nodeType:"ParameterList",parameters:[],src:"3411:2:1"},returnParameters:{id:294,nodeType:"ParameterList",parameters:[{constant:!1,id:293,name:"",nodeType:"VariableDeclaration",scope:302,src:"3435:13:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:292,name:"string",nodeType:"ElementaryTypeName",src:"3435:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"3434:15:1"},scope:495,src:"3391:101:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:322,nodeType:"Block",src:"3622:87:1",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:320,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:309,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"3635:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:312,indexExpression:{argumentTypes:null,expression:{argumentTypes:null,id:310,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"3641:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:311,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"3641:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"3635:17:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:313,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"passwordHash",nodeType:"MemberAccess",referencedDeclaration:37,src:"3635:30:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:317,name:"password",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:304,src:"3696:8:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],expression:{argumentTypes:null,id:315,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:554,src:"3679:3:1",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:316,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"3679:16:1",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:318,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3679:26:1",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:314,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:561,src:"3669:9:1",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:319,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3669:37:1",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"3635:71:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},functionReturnParameters:308,id:321,nodeType:"Return",src:"3628:78:1"}]},documentation:null,id:323,implemented:!0,kind:"function",modifiers:[],name:"validatePassword",nodeType:"FunctionDefinition",parameters:{id:305,nodeType:"ParameterList",parameters:[{constant:!1,id:304,name:"password",nodeType:"VariableDeclaration",scope:323,src:"3571:22:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:303,name:"string",nodeType:"ElementaryTypeName",src:"3571:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"3570:24:1"},returnParameters:{id:308,nodeType:"ParameterList",parameters:[{constant:!1,id:307,name:"",nodeType:"VariableDeclaration",scope:323,src:"3616:4:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:306,name:"bool",nodeType:"ElementaryTypeName",src:"3616:4:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"3615:6:1"},scope:495,src:"3545:164:1",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:335,nodeType:"Block",src:"3834:36:1",statements:[{expression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:330,name:"users",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:47,src:"3847:5:1",typeDescriptions:{typeIdentifier:"t_mapping$_t_address_$_t_struct$_User_$40_storage_$",typeString:"mapping(address => struct MessageStore.User storage ref)"}},id:332,indexExpression:{argumentTypes:null,id:331,name:"user",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:325,src:"3853:4:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"3847:11:1",typeDescriptions:{typeIdentifier:"t_struct$_User_$40_storage",typeString:"struct MessageStore.User storage ref"}},id:333,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"username",nodeType:"MemberAccess",referencedDeclaration:35,src:"3847:20:1",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},functionReturnParameters:329,id:334,nodeType:"Return",src:"3840:27:1"}]},documentation:null,id:336,implemented:!0,kind:"function",modifiers:[],name:"getUsernameByAddress",nodeType:"FunctionDefinition",parameters:{id:326,nodeType:"ParameterList",parameters:[{constant:!1,id:325,name:"user",nodeType:"VariableDeclaration",scope:336,src:"3784:12:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:324,name:"address",nodeType:"ElementaryTypeName",src:"3784:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"3783:14:1"},returnParameters:{id:329,nodeType:"ParameterList",parameters:[{constant:!1,id:328,name:"",nodeType:"VariableDeclaration",scope:336,src:"3819:13:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:327,name:"string",nodeType:"ElementaryTypeName",src:"3819:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"3818:15:1"},scope:495,src:"3754:116:1",stateMutability:"view",superFunction:null,visibility:"public"},{canonicalName:"MessageStore.Message",id:345,members:[{constant:!1,id:338,name:"recipient",nodeType:"VariableDeclaration",scope:345,src:"3893:17:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:337,name:"address",nodeType:"ElementaryTypeName",src:"3893:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:340,name:"content",nodeType:"VariableDeclaration",scope:345,src:"3916:14:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"},typeName:{id:339,name:"string",nodeType:"ElementaryTypeName",src:"3916:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"},{constant:!1,id:342,name:"sender",nodeType:"VariableDeclaration",scope:345,src:"3936:14:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:341,name:"address",nodeType:"ElementaryTypeName",src:"3936:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:344,name:"timestamp",nodeType:"VariableDeclaration",scope:345,src:"3956:17:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:343,name:"uint256",nodeType:"ElementaryTypeName",src:"3956:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],name:"Message",nodeType:"StructDefinition",scope:495,src:"3872:106:1",visibility:"public"},{constant:!1,id:348,name:"messages",nodeType:"VariableDeclaration",scope:495,src:"3980:26:1",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message[]"},typeName:{baseType:{contractScope:null,id:346,name:"Message",nodeType:"UserDefinedTypeName",referencedDeclaration:345,src:"3980:7:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage_ptr",typeString:"struct MessageStore.Message"}},id:347,length:null,nodeType:"ArrayTypeName",src:"3980:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage_ptr",typeString:"struct MessageStore.Message[]"}},value:null,visibility:"private"},{anonymous:!1,documentation:null,id:356,name:"MessageSent",nodeType:"EventDefinition",parameters:{id:355,nodeType:"ParameterList",parameters:[{constant:!1,id:350,indexed:!0,name:"recipient",nodeType:"VariableDeclaration",scope:356,src:"4027:25:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:349,name:"address",nodeType:"ElementaryTypeName",src:"4027:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:352,indexed:!1,name:"content",nodeType:"VariableDeclaration",scope:356,src:"4054:14:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:351,name:"string",nodeType:"ElementaryTypeName",src:"4054:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"},{constant:!1,id:354,indexed:!0,name:"sender",nodeType:"VariableDeclaration",scope:356,src:"4070:22:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:353,name:"address",nodeType:"ElementaryTypeName",src:"4070:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"4026:67:1"},src:"4009:85:1"},{body:{id:392,nodeType:"Block",src:"4220:346:1",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:368,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:364,name:"recipient",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:358,src:"4234:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"30",id:366,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"4255:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:365,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"4247:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:367,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4247:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"4234:23:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"496e76616c696420726563697069656e7420616464726573732e",id:369,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"4259:28:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c97c05480720c4cae5d4cb0272a4680a0c7ea075cd56920741dd8aec401f03fb",typeString:'literal_string "Invalid recipient address."'},value:"Invalid recipient address."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c97c05480720c4cae5d4cb0272a4680a0c7ea075cd56920741dd8aec401f03fb",typeString:'literal_string "Invalid recipient address."'}],id:363,name:"require",nodeType:"Identifier",overloadedDeclarations:[570,571],referencedDeclaration:571,src:"4226:7:1",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:370,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4226:62:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:371,nodeType:"ExpressionStatement",src:"4226:62:1"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:376,name:"recipient",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:358,src:"4337:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:377,name:"content",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:360,src:"4365:7:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:378,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"4390:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:379,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"4390:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,expression:{argumentTypes:null,id:380,name:"block",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:557,src:"4421:5:1",typeDescriptions:{typeIdentifier:"t_magic_block",typeString:"block"}},id:381,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"timestamp",nodeType:"MemberAccess",referencedDeclaration:null,src:"4421:15:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:375,name:"Message",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:345,src:"4308:7:1",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Message_$345_storage_ptr_$",typeString:"type(struct MessageStore.Message storage pointer)"}},id:382,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["recipient","content","sender","timestamp"],nodeType:"FunctionCall",src:"4308:200:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_memory",typeString:"struct MessageStore.Message memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_struct$_Message_$345_memory",typeString:"struct MessageStore.Message memory"}],expression:{argumentTypes:null,id:372,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"4294:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:374,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"4294:13:1",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_struct$_Message_$345_storage_$returns$_t_uint256_$",typeString:"function (struct MessageStore.Message storage ref) returns (uint256)"}},id:383,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4294:215:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:384,nodeType:"ExpressionStatement",src:"4294:215:1"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:386,name:"recipient",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:358,src:"4532:9:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:387,name:"content",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:360,src:"4543:7:1",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},{argumentTypes:null,expression:{argumentTypes:null,id:388,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"4552:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:389,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"4552:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:385,name:"MessageSent",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:356,src:"4520:11:1",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_string_memory_ptr_$_t_address_$returns$__$",typeString:"function (address,string memory,address)"}},id:390,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4520:43:1",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:391,nodeType:"EmitStatement",src:"4515:48:1"}]},documentation:null,id:393,implemented:!0,kind:"function",modifiers:[],name:"sendMessage",nodeType:"FunctionDefinition",parameters:{id:361,nodeType:"ParameterList",parameters:[{constant:!1,id:358,name:"recipient",nodeType:"VariableDeclaration",scope:393,src:"4171:17:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:357,name:"address",nodeType:"ElementaryTypeName",src:"4171:7:1",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:360,name:"content",nodeType:"VariableDeclaration",scope:393,src:"4190:21:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:359,name:"string",nodeType:"ElementaryTypeName",src:"4190:6:1",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"4170:42:1"},returnParameters:{id:362,nodeType:"ParameterList",parameters:[],src:"4220:0:1"},scope:495,src:"4150:416:1",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:493,nodeType:"Block",src:"4721:767:1",statements:[{assignments:[400],declarations:[{constant:!1,id:400,name:"messageCount",nodeType:"VariableDeclaration",scope:493,src:"4727:20:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:399,name:"uint256",nodeType:"ElementaryTypeName",src:"4727:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:402,initialValue:{argumentTypes:null,hexValue:"30",id:401,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"4750:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"4727:24:1"},{body:{id:434,nodeType:"Block",src:"4882:132:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:428,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:420,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:414,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"4896:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:416,indexExpression:{argumentTypes:null,id:415,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:404,src:"4905:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"4896:11:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage",typeString:"struct MessageStore.Message storage ref"}},id:417,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:342,src:"4896:18:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:418,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"4918:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:419,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"4918:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"4896:32:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:427,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:421,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"4932:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:423,indexExpression:{argumentTypes:null,id:422,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:404,src:"4941:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"4932:11:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage",typeString:"struct MessageStore.Message storage ref"}},id:424,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"recipient",nodeType:"MemberAccess",referencedDeclaration:338,src:"4932:21:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:425,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"4957:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:426,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"4957:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"4932:35:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"4896:71:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:433,nodeType:"IfStatement",src:"4892:116:1",trueBody:{id:432,nodeType:"Block",src:"4969:39:1",statements:[{expression:{argumentTypes:null,id:430,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"4983:14:1",subExpression:{argumentTypes:null,id:429,name:"messageCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:400,src:"4983:12:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:431,nodeType:"ExpressionStatement",src:"4983:14:1"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:410,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:407,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:404,src:"4856:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:408,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"4860:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:409,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"4860:15:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4856:19:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:435,initializationExpression:{assignments:[404],declarations:[{constant:!1,id:404,name:"i",nodeType:"VariableDeclaration",scope:435,src:"4841:9:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:403,name:"uint256",nodeType:"ElementaryTypeName",src:"4841:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:406,initialValue:{argumentTypes:null,hexValue:"30",id:405,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"4853:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"4841:13:1"},loopExpression:{expression:{argumentTypes:null,id:412,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"4877:3:1",subExpression:{argumentTypes:null,id:411,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:404,src:"4877:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:413,nodeType:"ExpressionStatement",src:"4877:3:1"},nodeType:"ForStatement",src:"4836:178:1"},{assignments:[439],declarations:[{constant:!1,id:439,name:"allMessages",nodeType:"VariableDeclaration",scope:493,src:"5073:28:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_memory_$dyn_memory_ptr",typeString:"struct MessageStore.Message[]"},typeName:{baseType:{contractScope:null,id:437,name:"Message",nodeType:"UserDefinedTypeName",referencedDeclaration:345,src:"5073:7:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage_ptr",typeString:"struct MessageStore.Message"}},id:438,length:null,nodeType:"ArrayTypeName",src:"5073:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage_ptr",typeString:"struct MessageStore.Message[]"}},value:null,visibility:"internal"}],id:445,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:443,name:"messageCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:400,src:"5118:12:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:442,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"NewExpression",src:"5104:13:1",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_struct$_Message_$345_memory_$dyn_memory_$",typeString:"function (uint256) pure returns (struct MessageStore.Message memory[] memory)"},typeName:{baseType:{contractScope:null,id:440,name:"Message",nodeType:"UserDefinedTypeName",referencedDeclaration:345,src:"5108:7:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage_ptr",typeString:"struct MessageStore.Message"}},id:441,length:null,nodeType:"ArrayTypeName",src:"5108:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage_ptr",typeString:"struct MessageStore.Message[]"}}},id:444,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5104:27:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_memory_$dyn_memory",typeString:"struct MessageStore.Message memory[] memory"}},nodeType:"VariableDeclarationStatement",src:"5073:58:1"},{assignments:[447],declarations:[{constant:!1,id:447,name:"index",nodeType:"VariableDeclaration",scope:493,src:"5137:13:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:446,name:"uint256",nodeType:"ElementaryTypeName",src:"5137:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:449,initialValue:{argumentTypes:null,hexValue:"30",id:448,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"5153:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5137:17:1"},{body:{id:489,nodeType:"Block",src:"5290:171:1",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:475,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:467,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:461,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"5304:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:463,indexExpression:{argumentTypes:null,id:462,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:451,src:"5313:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"5304:11:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage",typeString:"struct MessageStore.Message storage ref"}},id:464,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:342,src:"5304:18:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:465,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"5326:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:466,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5326:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"5304:32:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:474,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:468,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"5340:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:470,indexExpression:{argumentTypes:null,id:469,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:451,src:"5349:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"5340:11:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage",typeString:"struct MessageStore.Message storage ref"}},id:471,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"recipient",nodeType:"MemberAccess",referencedDeclaration:338,src:"5340:21:1",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:472,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:567,src:"5365:3:1",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:473,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"5365:10:1",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"5340:35:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"5304:71:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:488,nodeType:"IfStatement",src:"5300:155:1",trueBody:{id:487,nodeType:"Block",src:"5377:78:1",statements:[{expression:{argumentTypes:null,id:482,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:476,name:"allMessages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:439,src:"5391:11:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_memory_$dyn_memory_ptr",typeString:"struct MessageStore.Message memory[] memory"}},id:478,indexExpression:{argumentTypes:null,id:477,name:"index",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:447,src:"5403:5:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"5391:18:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_memory",typeString:"struct MessageStore.Message memory"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:479,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"5412:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:481,indexExpression:{argumentTypes:null,id:480,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:451,src:"5421:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"5412:11:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage",typeString:"struct MessageStore.Message storage ref"}},src:"5391:32:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_memory",typeString:"struct MessageStore.Message memory"}},id:483,nodeType:"ExpressionStatement",src:"5391:32:1"},{expression:{argumentTypes:null,id:485,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"5437:7:1",subExpression:{argumentTypes:null,id:484,name:"index",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:447,src:"5437:5:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:486,nodeType:"ExpressionStatement",src:"5437:7:1"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:457,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:454,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:451,src:"5264:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:455,name:"messages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"5268:8:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage",typeString:"struct MessageStore.Message storage ref[] storage ref"}},id:456,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"5268:15:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5264:19:1",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:490,initializationExpression:{assignments:[451],declarations:[{constant:!1,id:451,name:"i",nodeType:"VariableDeclaration",scope:490,src:"5249:9:1",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:450,name:"uint256",nodeType:"ElementaryTypeName",src:"5249:7:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:453,initialValue:{argumentTypes:null,hexValue:"30",id:452,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"5261:1:1",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"5249:13:1"},loopExpression:{expression:{argumentTypes:null,id:459,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"5285:3:1",subExpression:{argumentTypes:null,id:458,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:451,src:"5285:1:1",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:460,nodeType:"ExpressionStatement",src:"5285:3:1"},nodeType:"ForStatement",src:"5244:217:1"},{expression:{argumentTypes:null,id:491,name:"allMessages",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:439,src:"5474:11:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_memory_$dyn_memory_ptr",typeString:"struct MessageStore.Message memory[] memory"}},functionReturnParameters:398,id:492,nodeType:"Return",src:"5467:18:1"}]},documentation:null,id:494,implemented:!0,kind:"function",modifiers:[],name:"fetchAllMessagesForLoggedInAccount",nodeType:"FunctionDefinition",parameters:{id:394,nodeType:"ParameterList",parameters:[],src:"4679:2:1"},returnParameters:{id:398,nodeType:"ParameterList",parameters:[{constant:!1,id:397,name:"",nodeType:"VariableDeclaration",scope:494,src:"4703:16:1",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_memory_$dyn_memory_ptr",typeString:"struct MessageStore.Message[]"},typeName:{baseType:{contractScope:null,id:395,name:"Message",nodeType:"UserDefinedTypeName",referencedDeclaration:345,src:"4703:7:1",typeDescriptions:{typeIdentifier:"t_struct$_Message_$345_storage_ptr",typeString:"struct MessageStore.Message"}},id:396,length:null,nodeType:"ArrayTypeName",src:"4703:9:1",typeDescriptions:{typeIdentifier:"t_array$_t_struct$_Message_$345_storage_$dyn_storage_ptr",typeString:"struct MessageStore.Message[]"}},value:null,visibility:"internal"}],src:"4702:18:1"},scope:495,src:"4636:852:1",stateMutability:"view",superFunction:null,visibility:"public"}],scope:496,src:"59:5432:1"}],src:"0:5492:1"},legacyAST:{attributes:{absolutePath:"project:/src/contracts/MessageStore.sol",exportedSymbols:{MessageStore:[495]}},children:[{attributes:{literals:["solidity","^","0.5",".0"]},id:32,name:"PragmaDirective",src:"0:23:1"},{attributes:{literals:["experimental","ABIEncoderV2"]},id:33,name:"PragmaDirective",src:"24:33:1"},{attributes:{baseContracts:[null],contractDependencies:[null],contractKind:"contract",documentation:null,fullyImplemented:!0,linearizedBaseContracts:[495],name:"MessageStore",scope:496},children:[{attributes:{canonicalName:"MessageStore.User",name:"User",scope:495,visibility:"public"},children:[{attributes:{constant:!1,name:"username",scope:40,stateVariable:!1,storageLocation:"default",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:34,name:"ElementaryTypeName",src:"105:6:1"}],id:35,name:"VariableDeclaration",src:"105:15:1"},{attributes:{constant:!1,name:"passwordHash",scope:40,stateVariable:!1,storageLocation:"default",type:"bytes32",value:null,visibility:"internal"},children:[{attributes:{name:"bytes32",type:"bytes32"},id:36,name:"ElementaryTypeName",src:"130:7:1"}],id:37,name:"VariableDeclaration",src:"130:20:1"},{attributes:{constant:!1,name:"publicKey",scope:40,stateVariable:!1,storageLocation:"default",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:38,name:"ElementaryTypeName",src:"160:6:1"}],id:39,name:"VariableDeclaration",src:"160:16:1"}],id:40,name:"StructDefinition",src:"83:100:1"},{attributes:{constant:!1,name:"allRegisteredUsers",scope:495,stateVariable:!0,storageLocation:"default",type:"address[]",value:null,visibility:"private"},children:[{attributes:{length:null,type:"address[]"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:41,name:"ElementaryTypeName",src:"184:7:1"}],id:42,name:"ArrayTypeName",src:"184:9:1"}],id:43,name:"VariableDeclaration",src:"184:36:1"},{attributes:{constant:!1,name:"users",scope:495,stateVariable:!0,storageLocation:"default",type:"mapping(address => struct MessageStore.User)",value:null,visibility:"private"},children:[{attributes:{type:"mapping(address => struct MessageStore.User)"},children:[{attributes:{name:"address",type:"address"},id:44,name:"ElementaryTypeName",src:"383:7:1"},{attributes:{contractScope:null,name:"User",referencedDeclaration:40,type:"struct MessageStore.User"},id:45,name:"UserDefinedTypeName",src:"394:4:1"}],id:46,name:"Mapping",src:"375:24:1"}],id:47,name:"VariableDeclaration",src:"375:38:1"},{attributes:{anonymous:!1,documentation:null,name:"UserRegistered"},children:[{children:[{attributes:{constant:!1,indexed:!0,name:"user",scope:53,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:48,name:"ElementaryTypeName",src:"439:7:1"}],id:49,name:"VariableDeclaration",src:"439:20:1"},{attributes:{constant:!1,indexed:!1,name:"username",scope:53,stateVariable:!1,storageLocation:"default",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:50,name:"ElementaryTypeName",src:"461:6:1"}],id:51,name:"VariableDeclaration",src:"461:15:1"}],id:52,name:"ParameterList",src:"438:39:1"}],id:53,name:"EventDefinition",src:"418:60:1"},{attributes:{anonymous:!1,documentation:null,name:"PublicKeyUpdated"},children:[{children:[{attributes:{constant:!1,indexed:!0,name:"user",scope:59,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:54,name:"ElementaryTypeName",src:"506:7:1"}],id:55,name:"VariableDeclaration",src:"506:20:1"},{attributes:{constant:!1,indexed:!1,name:"publicKey",scope:59,stateVariable:!1,storageLocation:"default",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:56,name:"ElementaryTypeName",src:"528:6:1"}],id:57,name:"VariableDeclaration",src:"528:16:1"}],id:58,name:"ParameterList",src:"505:40:1"}],id:59,name:"EventDefinition",src:"483:63:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"registerUser",scope:495,stateMutability:"nonpayable",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"username",scope:122,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:60,name:"ElementaryTypeName",src:"659:6:1"}],id:61,name:"VariableDeclaration",src:"659:22:1"},{attributes:{constant:!1,name:"publicKey",scope:122,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:62,name:"ElementaryTypeName",src:"683:6:1"}],id:63,name:"VariableDeclaration",src:"683:23:1"},{attributes:{constant:!1,name:"password",scope:122,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:64,name:"ElementaryTypeName",src:"708:6:1"}],id:65,name:"VariableDeclaration",src:"708:22:1"}],id:66,name:"ParameterList",src:"658:73:1"},{children:[{attributes:{constant:!1,name:"",scope:122,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:67,name:"ElementaryTypeName",src:"748:4:1"}],id:68,name:"VariableDeclaration",src:"748:4:1"}],id:69,name:"ParameterList",src:"747:6:1"},{children:[{attributes:{falseBody:null},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:">",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes storage pointer",type_conversion:!0},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"type(bytes storage pointer)",value:"bytes"},id:70,name:"ElementaryTypeNameExpression",src:"819:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"username",referencedDeclaration:35,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:71,name:"Identifier",src:"825:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:72,name:"Identifier",src:"831:3:1"}],id:73,name:"MemberAccess",src:"831:10:1"}],id:74,name:"IndexAccess",src:"825:17:1"}],id:75,name:"MemberAccess",src:"825:26:1"}],id:76,name:"FunctionCall",src:"819:33:1"}],id:77,name:"MemberAccess",src:"819:40:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:78,name:"Literal",src:"862:1:1"}],id:79,name:"BinaryOperation",src:"819:44:1"},{children:[{attributes:{functionReturnParameters:69},children:[{attributes:{argumentTypes:null,hexvalue:"66616c7365",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"bool",type:"bool",value:"false"},id:80,name:"Literal",src:"949:5:1"}],id:81,name:"Return",src:"942:12:1"}],id:82,name:"Block",src:"865:101:1"}],id:83,name:"IfStatement",src:"815:151:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:84,name:"Identifier",src:"1076:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:85,name:"Identifier",src:"1082:3:1"}],id:86,name:"MemberAccess",src:"1082:10:1"}],id:87,name:"IndexAccess",src:"1076:17:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!0,lValueRequested:!1,names:["username","passwordHash","publicKey"],type:"struct MessageStore.User memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],overloadedDeclarations:[null],referencedDeclaration:40,type:"type(struct MessageStore.User storage pointer)",value:"User"},id:88,name:"Identifier",src:"1096:4:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:61,type:"string memory",value:"username"},id:89,name:"Identifier",src:"1125:8:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes32",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],overloadedDeclarations:[null],referencedDeclaration:561,type:"function (bytes memory) pure returns (bytes32)",value:"keccak256"},id:90,name:"Identifier",src:"1161:9:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,member_name:"encodePacked",referencedDeclaration:null,type:"function () pure returns (bytes memory)"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:554,type:"abi",value:"abi"},id:91,name:"Identifier",src:"1171:3:1"}],id:92,name:"MemberAccess",src:"1171:16:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:65,type:"string memory",value:"password"},id:93,name:"Identifier",src:"1188:8:1"}],id:94,name:"FunctionCall",src:"1171:26:1"}],id:95,name:"FunctionCall",src:"1161:37:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:63,type:"string memory",value:"publicKey"},id:96,name:"Identifier",src:"1248:9:1"}],id:97,name:"FunctionCall",src:"1096:172:1"}],id:98,name:"Assignment",src:"1076:192:1"}],id:99,name:"ExpressionStatement",src:"1076:192:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"uint256",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"push",referencedDeclaration:null,type:"function (address) returns (uint256)"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:43,type:"address[] storage ref",value:"allRegisteredUsers"},id:100,name:"Identifier",src:"1343:18:1"}],id:102,name:"MemberAccess",src:"1343:23:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:103,name:"Identifier",src:"1367:3:1"}],id:104,name:"MemberAccess",src:"1367:10:1"}],id:105,name:"FunctionCall",src:"1343:35:1"}],id:106,name:"ExpressionStatement",src:"1343:35:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],overloadedDeclarations:[null],referencedDeclaration:53,type:"function (address,string memory)",value:"UserRegistered"},id:107,name:"Identifier",src:"1457:14:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:108,name:"Identifier",src:"1472:3:1"}],id:109,name:"MemberAccess",src:"1472:10:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:61,type:"string memory",value:"username"},id:110,name:"Identifier",src:"1484:8:1"}],id:111,name:"FunctionCall",src:"1457:36:1"}],id:112,name:"EmitStatement",src:"1452:41:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],overloadedDeclarations:[null],referencedDeclaration:59,type:"function (address,string memory)",value:"PublicKeyUpdated"},id:113,name:"Identifier",src:"1508:16:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:114,name:"Identifier",src:"1525:3:1"}],id:115,name:"MemberAccess",src:"1525:10:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:63,type:"string memory",value:"publicKey"},id:116,name:"Identifier",src:"1537:9:1"}],id:117,name:"FunctionCall",src:"1508:39:1"}],id:118,name:"EmitStatement",src:"1503:44:1"},{attributes:{functionReturnParameters:69},children:[{attributes:{argumentTypes:null,hexvalue:"74727565",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"bool",type:"bool",value:"true"},id:119,name:"Literal",src:"1623:4:1"}],id:120,name:"Return",src:"1616:11:1"}],id:121,name:"Block",src:"754:881:1"}],id:122,name:"FunctionDefinition",src:"637:998:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"getAllRegisteredUsers",scope:495,stateMutability:"view",superFunction:null,visibility:"public"},children:[{attributes:{parameters:[null]},children:[],id:123,name:"ParameterList",src:"1668:2:1"},{children:[{attributes:{constant:!1,name:"",scope:194,stateVariable:!1,storageLocation:"memory",type:"address[]",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"address[]"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:124,name:"ElementaryTypeName",src:"1692:7:1"}],id:125,name:"ArrayTypeName",src:"1692:9:1"}],id:126,name:"VariableDeclaration",src:"1692:16:1"},{attributes:{constant:!1,name:"",scope:194,stateVariable:!1,storageLocation:"memory",type:"string[]",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"string[]"},children:[{attributes:{name:"string",type:"string"},id:127,name:"ElementaryTypeName",src:"1710:6:1"}],id:128,name:"ArrayTypeName",src:"1710:8:1"}],id:129,name:"VariableDeclaration",src:"1710:15:1"}],id:130,name:"ParameterList",src:"1691:35:1"},{children:[{attributes:{assignments:[132]},children:[{attributes:{constant:!1,name:"userCount",scope:193,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:131,name:"ElementaryTypeName",src:"1733:7:1"}],id:132,name:"VariableDeclaration",src:"1733:17:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:43,type:"address[] storage ref",value:"allRegisteredUsers"},id:133,name:"Identifier",src:"1753:18:1"}],id:134,name:"MemberAccess",src:"1753:25:1"}],id:135,name:"VariableDeclarationStatement",src:"1733:45:1"},{attributes:{assignments:[139]},children:[{attributes:{constant:!1,name:"addresses",scope:193,stateVariable:!1,storageLocation:"memory",type:"address[]",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"address[]"},children:[{attributes:{name:"address",type:"address"},id:137,name:"ElementaryTypeName",src:"1784:7:1"}],id:138,name:"ArrayTypeName",src:"1784:9:1"}],id:139,name:"VariableDeclaration",src:"1784:26:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"address[] memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"function (uint256) pure returns (address[] memory)"},children:[{attributes:{length:null,type:"address[]"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:140,name:"ElementaryTypeName",src:"1817:7:1"}],id:141,name:"ArrayTypeName",src:"1817:9:1"}],id:142,name:"NewExpression",src:"1813:13:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:132,type:"uint256",value:"userCount"},id:143,name:"Identifier",src:"1827:9:1"}],id:144,name:"FunctionCall",src:"1813:24:1"}],id:145,name:"VariableDeclarationStatement",src:"1784:53:1"},{attributes:{assignments:[149]},children:[{attributes:{constant:!1,name:"usernames",scope:193,stateVariable:!1,storageLocation:"memory",type:"string[]",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"string[]"},children:[{attributes:{name:"string",type:"string"},id:147,name:"ElementaryTypeName",src:"1843:6:1"}],id:148,name:"ArrayTypeName",src:"1843:8:1"}],id:149,name:"VariableDeclaration",src:"1843:25:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"string memory[] memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"function (uint256) pure returns (string memory[] memory)"},children:[{attributes:{length:null,type:"string[]"},children:[{attributes:{name:"string",type:"string"},id:150,name:"ElementaryTypeName",src:"1875:6:1"}],id:151,name:"ArrayTypeName",src:"1875:8:1"}],id:152,name:"NewExpression",src:"1871:12:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:132,type:"uint256",value:"userCount"},id:153,name:"Identifier",src:"1884:9:1"}],id:154,name:"FunctionCall",src:"1871:23:1"}],id:155,name:"VariableDeclarationStatement",src:"1843:51:1"},{children:[{attributes:{assignments:[157]},children:[{attributes:{constant:!1,name:"i",scope:188,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:156,name:"ElementaryTypeName",src:"1906:7:1"}],id:157,name:"VariableDeclaration",src:"1906:9:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:158,name:"Literal",src:"1918:1:1"}],id:159,name:"VariableDeclarationStatement",src:"1906:13:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"<",type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:157,type:"uint256",value:"i"},id:160,name:"Identifier",src:"1921:1:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:132,type:"uint256",value:"userCount"},id:161,name:"Identifier",src:"1925:9:1"}],id:162,name:"BinaryOperation",src:"1921:13:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:157,type:"uint256",value:"i"},id:163,name:"Identifier",src:"1936:1:1"}],id:164,name:"UnaryOperation",src:"1936:3:1"}],id:165,name:"ExpressionStatement",src:"1936:3:1"},{children:[{attributes:{assignments:[167]},children:[{attributes:{constant:!1,name:"userAddress",scope:187,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:166,name:"ElementaryTypeName",src:"1951:7:1"}],id:167,name:"VariableDeclaration",src:"1951:19:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:43,type:"address[] storage ref",value:"allRegisteredUsers"},id:168,name:"Identifier",src:"1973:18:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:157,type:"uint256",value:"i"},id:169,name:"Identifier",src:"1992:1:1"}],id:170,name:"IndexAccess",src:"1973:21:1"}],id:171,name:"VariableDeclarationStatement",src:"1951:43:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"address"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,type:"address"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:139,type:"address[] memory",value:"addresses"},id:172,name:"Identifier",src:"2004:9:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:157,type:"uint256",value:"i"},id:173,name:"Identifier",src:"2014:1:1"}],id:174,name:"IndexAccess",src:"2004:12:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:167,type:"address",value:"userAddress"},id:175,name:"Identifier",src:"2019:11:1"}],id:176,name:"Assignment",src:"2004:26:1"}],id:177,name:"ExpressionStatement",src:"2004:26:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"string memory"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,type:"string memory"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:149,type:"string memory[] memory",value:"usernames"},id:178,name:"Identifier",src:"2069:9:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:157,type:"uint256",value:"i"},id:179,name:"Identifier",src:"2079:1:1"}],id:180,name:"IndexAccess",src:"2069:12:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"username",referencedDeclaration:35,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:181,name:"Identifier",src:"2084:5:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:167,type:"address",value:"userAddress"},id:182,name:"Identifier",src:"2090:11:1"}],id:183,name:"IndexAccess",src:"2084:18:1"}],id:184,name:"MemberAccess",src:"2084:27:1"}],id:185,name:"Assignment",src:"2069:42:1"}],id:186,name:"ExpressionStatement",src:"2069:42:1"}],id:187,name:"Block",src:"1941:220:1"}],id:188,name:"ForStatement",src:"1901:260:1"},{attributes:{functionReturnParameters:130},children:[{attributes:{argumentTypes:null,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,type:"tuple(address[] memory,string memory[] memory)"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:139,type:"address[] memory",value:"addresses"},id:189,name:"Identifier",src:"2175:9:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:149,type:"string memory[] memory",value:"usernames"},id:190,name:"Identifier",src:"2186:9:1"}],id:191,name:"TupleExpression",src:"2174:22:1"}],id:192,name:"Return",src:"2167:29:1"}],id:193,name:"Block",src:"1727:472:1"}],id:194,name:"FunctionDefinition",src:"1638:561:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"updatePublicKey",scope:495,stateMutability:"nonpayable",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"publicKey",scope:232,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:195,name:"ElementaryTypeName",src:"2293:6:1"}],id:196,name:"VariableDeclaration",src:"2293:23:1"}],id:197,name:"ParameterList",src:"2292:25:1"},{children:[{attributes:{constant:!1,name:"",scope:232,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:198,name:"ElementaryTypeName",src:"2334:4:1"}],id:199,name:"VariableDeclaration",src:"2334:4:1"}],id:200,name:"ParameterList",src:"2333:6:1"},{children:[{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ff9f049869e48255e38a716ec9b48b07c340a2ec1b53026b1a30a53f9fa29bf7",typeString:'literal_string "User is not registered."'}],overloadedDeclarations:[570,571],referencedDeclaration:571,type:"function (bool,string memory) pure",value:"require"},id:201,name:"Identifier",src:"2385:7:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:">",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes storage pointer",type_conversion:!0},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"type(bytes storage pointer)",value:"bytes"},id:202,name:"ElementaryTypeNameExpression",src:"2393:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"username",referencedDeclaration:35,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:203,name:"Identifier",src:"2399:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:204,name:"Identifier",src:"2405:3:1"}],id:205,name:"MemberAccess",src:"2405:10:1"}],id:206,name:"IndexAccess",src:"2399:17:1"}],id:207,name:"MemberAccess",src:"2399:26:1"}],id:208,name:"FunctionCall",src:"2393:33:1"}],id:209,name:"MemberAccess",src:"2393:40:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:210,name:"Literal",src:"2436:1:1"}],id:211,name:"BinaryOperation",src:"2393:44:1"},{attributes:{argumentTypes:null,hexvalue:"55736572206973206e6f7420726567697374657265642e",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"string",type:'literal_string "User is not registered."',value:"User is not registered."},id:212,name:"Literal",src:"2439:25:1"}],id:213,name:"FunctionCall",src:"2385:80:1"}],id:214,name:"ExpressionStatement",src:"2385:80:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,member_name:"publicKey",referencedDeclaration:39,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:215,name:"Identifier",src:"2520:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:216,name:"Identifier",src:"2526:3:1"}],id:217,name:"MemberAccess",src:"2526:10:1"}],id:218,name:"IndexAccess",src:"2520:17:1"}],id:219,name:"MemberAccess",src:"2520:27:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:196,type:"string memory",value:"publicKey"},id:220,name:"Identifier",src:"2550:9:1"}],id:221,name:"Assignment",src:"2520:39:1"}],id:222,name:"ExpressionStatement",src:"2520:39:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],overloadedDeclarations:[null],referencedDeclaration:59,type:"function (address,string memory)",value:"PublicKeyUpdated"},id:223,name:"Identifier",src:"2610:16:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:224,name:"Identifier",src:"2627:3:1"}],id:225,name:"MemberAccess",src:"2627:10:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:196,type:"string memory",value:"publicKey"},id:226,name:"Identifier",src:"2639:9:1"}],id:227,name:"FunctionCall",src:"2610:39:1"}],id:228,name:"EmitStatement",src:"2605:44:1"},{attributes:{functionReturnParameters:200},children:[{attributes:{argumentTypes:null,hexvalue:"74727565",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"bool",type:"bool",value:"true"},id:229,name:"Literal",src:"2663:4:1"}],id:230,name:"Return",src:"2656:11:1"}],id:231,name:"Block",src:"2340:330:1"}],id:232,name:"FunctionDefinition",src:"2268:402:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"changePassword",scope:495,stateMutability:"nonpayable",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"newPasswordHash",scope:264,stateVariable:!1,storageLocation:"default",type:"bytes32",value:null,visibility:"internal"},children:[{attributes:{name:"bytes32",type:"bytes32"},id:233,name:"ElementaryTypeName",src:"2701:7:1"}],id:234,name:"VariableDeclaration",src:"2701:23:1"}],id:235,name:"ParameterList",src:"2700:25:1"},{children:[{attributes:{constant:!1,name:"",scope:264,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:236,name:"ElementaryTypeName",src:"2742:4:1"}],id:237,name:"VariableDeclaration",src:"2742:4:1"}],id:238,name:"ParameterList",src:"2741:6:1"},{children:[{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_d7a837b81caae033a7be9ec4534e99638cf106c36592583903313f147edcb04b",typeString:'literal_string "User not registered."'}],overloadedDeclarations:[570,571],referencedDeclaration:571,type:"function (bool,string memory) pure",value:"require"},id:239,name:"Identifier",src:"2787:7:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:">",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes storage pointer",type_conversion:!0},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"type(bytes storage pointer)",value:"bytes"},id:240,name:"ElementaryTypeNameExpression",src:"2795:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"username",referencedDeclaration:35,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:241,name:"Identifier",src:"2801:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:242,name:"Identifier",src:"2807:3:1"}],id:243,name:"MemberAccess",src:"2807:10:1"}],id:244,name:"IndexAccess",src:"2801:17:1"}],id:245,name:"MemberAccess",src:"2801:26:1"}],id:246,name:"FunctionCall",src:"2795:33:1"}],id:247,name:"MemberAccess",src:"2795:40:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:248,name:"Literal",src:"2838:1:1"}],id:249,name:"BinaryOperation",src:"2795:44:1"},{attributes:{argumentTypes:null,hexvalue:"55736572206e6f7420726567697374657265642e",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"string",type:'literal_string "User not registered."',value:"User not registered."},id:250,name:"Literal",src:"2841:22:1"}],id:251,name:"FunctionCall",src:"2787:77:1"}],id:252,name:"ExpressionStatement",src:"2787:77:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"bytes32"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,member_name:"passwordHash",referencedDeclaration:37,type:"bytes32"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:253,name:"Identifier",src:"2926:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:254,name:"Identifier",src:"2932:3:1"}],id:255,name:"MemberAccess",src:"2932:10:1"}],id:256,name:"IndexAccess",src:"2926:17:1"}],id:257,name:"MemberAccess",src:"2926:30:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:234,type:"bytes32",value:"newPasswordHash"},id:258,name:"Identifier",src:"2959:15:1"}],id:259,name:"Assignment",src:"2926:48:1"}],id:260,name:"ExpressionStatement",src:"2926:48:1"},{attributes:{functionReturnParameters:238},children:[{attributes:{argumentTypes:null,hexvalue:"74727565",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"bool",type:"bool",value:"true"},id:261,name:"Literal",src:"2988:4:1"}],id:262,name:"Return",src:"2981:11:1"}],id:263,name:"Block",src:"2748:247:1"}],id:264,name:"FunctionDefinition",src:"2677:318:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"getPublicKey",scope:495,stateMutability:"view",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"user",scope:277,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:265,name:"ElementaryTypeName",src:"3078:7:1"}],id:266,name:"VariableDeclaration",src:"3078:12:1"}],id:267,name:"ParameterList",src:"3077:14:1"},{children:[{attributes:{constant:!1,name:"",scope:277,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:268,name:"ElementaryTypeName",src:"3113:6:1"}],id:269,name:"VariableDeclaration",src:"3113:13:1"}],id:270,name:"ParameterList",src:"3112:15:1"},{children:[{attributes:{functionReturnParameters:270},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"publicKey",referencedDeclaration:39,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:271,name:"Identifier",src:"3141:5:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:266,type:"address",value:"user"},id:272,name:"Identifier",src:"3147:4:1"}],id:273,name:"IndexAccess",src:"3141:11:1"}],id:274,name:"MemberAccess",src:"3141:21:1"}],id:275,name:"Return",src:"3134:28:1"}],id:276,name:"Block",src:"3128:37:1"}],id:277,name:"FunctionDefinition",src:"3056:109:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"getPasswordHash",scope:495,stateMutability:"view",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"user",scope:290,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:278,name:"ElementaryTypeName",src:"3251:7:1"}],id:279,name:"VariableDeclaration",src:"3251:12:1"}],id:280,name:"ParameterList",src:"3250:14:1"},{children:[{attributes:{constant:!1,name:"",scope:290,stateVariable:!1,storageLocation:"default",type:"bytes32",value:null,visibility:"internal"},children:[{attributes:{name:"bytes32",type:"bytes32"},id:281,name:"ElementaryTypeName",src:"3286:7:1"}],id:282,name:"VariableDeclaration",src:"3286:7:1"}],id:283,name:"ParameterList",src:"3285:9:1"},{children:[{attributes:{functionReturnParameters:283},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"passwordHash",referencedDeclaration:37,type:"bytes32"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:284,name:"Identifier",src:"3308:5:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:279,type:"address",value:"user"},id:285,name:"Identifier",src:"3314:4:1"}],id:286,name:"IndexAccess",src:"3308:11:1"}],id:287,name:"MemberAccess",src:"3308:24:1"}],id:288,name:"Return",src:"3301:31:1"}],id:289,name:"Block",src:"3295:40:1"}],id:290,name:"FunctionDefinition",src:"3226:109:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"getUsername",scope:495,stateMutability:"view",superFunction:null,visibility:"public"},children:[{attributes:{parameters:[null]},children:[],id:291,name:"ParameterList",src:"3411:2:1"},{children:[{attributes:{constant:!1,name:"",scope:302,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:292,name:"ElementaryTypeName",src:"3435:6:1"}],id:293,name:"VariableDeclaration",src:"3435:13:1"}],id:294,name:"ParameterList",src:"3434:15:1"},{children:[{attributes:{functionReturnParameters:294},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"username",referencedDeclaration:35,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:295,name:"Identifier",src:"3463:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:296,name:"Identifier",src:"3469:3:1"}],id:297,name:"MemberAccess",src:"3469:10:1"}],id:298,name:"IndexAccess",src:"3463:17:1"}],id:299,name:"MemberAccess",src:"3463:26:1"}],id:300,name:"Return",src:"3456:33:1"}],id:301,name:"Block",src:"3450:42:1"}],id:302,name:"FunctionDefinition",src:"3391:101:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"validatePassword",scope:495,stateMutability:"view",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"password",scope:323,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:303,name:"ElementaryTypeName",src:"3571:6:1"}],id:304,name:"VariableDeclaration",src:"3571:22:1"}],id:305,name:"ParameterList",src:"3570:24:1"},{children:[{attributes:{constant:!1,name:"",scope:323,stateVariable:!1,storageLocation:"default",type:"bool",value:null,visibility:"internal"},children:[{attributes:{name:"bool",type:"bool"},id:306,name:"ElementaryTypeName",src:"3616:4:1"}],id:307,name:"VariableDeclaration",src:"3616:4:1"}],id:308,name:"ParameterList",src:"3615:6:1"},{children:[{attributes:{functionReturnParameters:308},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"passwordHash",referencedDeclaration:37,type:"bytes32"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:309,name:"Identifier",src:"3635:5:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:310,name:"Identifier",src:"3641:3:1"}],id:311,name:"MemberAccess",src:"3641:10:1"}],id:312,name:"IndexAccess",src:"3635:17:1"}],id:313,name:"MemberAccess",src:"3635:30:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes32",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],overloadedDeclarations:[null],referencedDeclaration:561,type:"function (bytes memory) pure returns (bytes32)",value:"keccak256"},id:314,name:"Identifier",src:"3669:9:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"bytes memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,member_name:"encodePacked",referencedDeclaration:null,type:"function () pure returns (bytes memory)"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:554,type:"abi",value:"abi"},id:315,name:"Identifier",src:"3679:3:1"}],id:316,name:"MemberAccess",src:"3679:16:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:304,type:"string memory",value:"password"},id:317,name:"Identifier",src:"3696:8:1"}],id:318,name:"FunctionCall",src:"3679:26:1"}],id:319,name:"FunctionCall",src:"3669:37:1"}],id:320,name:"BinaryOperation",src:"3635:71:1"}],id:321,name:"Return",src:"3628:78:1"}],id:322,name:"Block",src:"3622:87:1"}],id:323,name:"FunctionDefinition",src:"3545:164:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"getUsernameByAddress",scope:495,stateMutability:"view",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"user",scope:336,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:324,name:"ElementaryTypeName",src:"3784:7:1"}],id:325,name:"VariableDeclaration",src:"3784:12:1"}],id:326,name:"ParameterList",src:"3783:14:1"},{children:[{attributes:{constant:!1,name:"",scope:336,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:327,name:"ElementaryTypeName",src:"3819:6:1"}],id:328,name:"VariableDeclaration",src:"3819:13:1"}],id:329,name:"ParameterList",src:"3818:15:1"},{children:[{attributes:{functionReturnParameters:329},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"username",referencedDeclaration:35,type:"string storage ref"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.User storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:47,type:"mapping(address => struct MessageStore.User storage ref)",value:"users"},id:330,name:"Identifier",src:"3847:5:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:325,type:"address",value:"user"},id:331,name:"Identifier",src:"3853:4:1"}],id:332,name:"IndexAccess",src:"3847:11:1"}],id:333,name:"MemberAccess",src:"3847:20:1"}],id:334,name:"Return",src:"3840:27:1"}],id:335,name:"Block",src:"3834:36:1"}],id:336,name:"FunctionDefinition",src:"3754:116:1"},{attributes:{canonicalName:"MessageStore.Message",name:"Message",scope:495,visibility:"public"},children:[{attributes:{constant:!1,name:"recipient",scope:345,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:337,name:"ElementaryTypeName",src:"3893:7:1"}],id:338,name:"VariableDeclaration",src:"3893:17:1"},{attributes:{constant:!1,name:"content",scope:345,stateVariable:!1,storageLocation:"default",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:339,name:"ElementaryTypeName",src:"3916:6:1"}],id:340,name:"VariableDeclaration",src:"3916:14:1"},{attributes:{constant:!1,name:"sender",scope:345,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:341,name:"ElementaryTypeName",src:"3936:7:1"}],id:342,name:"VariableDeclaration",src:"3936:14:1"},{attributes:{constant:!1,name:"timestamp",scope:345,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:343,name:"ElementaryTypeName",src:"3956:7:1"}],id:344,name:"VariableDeclaration",src:"3956:17:1"}],id:345,name:"StructDefinition",src:"3872:106:1"},{attributes:{constant:!1,name:"messages",scope:495,stateVariable:!0,storageLocation:"default",type:"struct MessageStore.Message[]",value:null,visibility:"private"},children:[{attributes:{length:null,type:"struct MessageStore.Message[]"},children:[{attributes:{contractScope:null,name:"Message",referencedDeclaration:345,type:"struct MessageStore.Message"},id:346,name:"UserDefinedTypeName",src:"3980:7:1"}],id:347,name:"ArrayTypeName",src:"3980:9:1"}],id:348,name:"VariableDeclaration",src:"3980:26:1"},{attributes:{anonymous:!1,documentation:null,name:"MessageSent"},children:[{children:[{attributes:{constant:!1,indexed:!0,name:"recipient",scope:356,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:349,name:"ElementaryTypeName",src:"4027:7:1"}],id:350,name:"VariableDeclaration",src:"4027:25:1"},{attributes:{constant:!1,indexed:!1,name:"content",scope:356,stateVariable:!1,storageLocation:"default",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:351,name:"ElementaryTypeName",src:"4054:6:1"}],id:352,name:"VariableDeclaration",src:"4054:14:1"},{attributes:{constant:!1,indexed:!0,name:"sender",scope:356,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:353,name:"ElementaryTypeName",src:"4070:7:1"}],id:354,name:"VariableDeclaration",src:"4070:22:1"}],id:355,name:"ParameterList",src:"4026:67:1"}],id:356,name:"EventDefinition",src:"4009:85:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"sendMessage",scope:495,stateMutability:"nonpayable",superFunction:null,visibility:"public"},children:[{children:[{attributes:{constant:!1,name:"recipient",scope:393,stateVariable:!1,storageLocation:"default",type:"address",value:null,visibility:"internal"},children:[{attributes:{name:"address",stateMutability:"nonpayable",type:"address"},id:357,name:"ElementaryTypeName",src:"4171:7:1"}],id:358,name:"VariableDeclaration",src:"4171:17:1"},{attributes:{constant:!1,name:"content",scope:393,stateVariable:!1,storageLocation:"memory",type:"string",value:null,visibility:"internal"},children:[{attributes:{name:"string",type:"string"},id:359,name:"ElementaryTypeName",src:"4190:6:1"}],id:360,name:"VariableDeclaration",src:"4190:21:1"}],id:361,name:"ParameterList",src:"4170:42:1"},{attributes:{parameters:[null]},children:[],id:362,name:"ParameterList",src:"4220:0:1"},{children:[{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_c97c05480720c4cae5d4cb0272a4680a0c7ea075cd56920741dd8aec401f03fb",typeString:'literal_string "Invalid recipient address."'}],overloadedDeclarations:[570,571],referencedDeclaration:571,type:"function (bool,string memory) pure",value:"require"},id:363,name:"Identifier",src:"4226:7:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"!=",type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:358,type:"address",value:"recipient"},id:364,name:"Identifier",src:"4234:9:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!0,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"address payable",type_conversion:!0},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"type(address)",value:"address"},id:365,name:"ElementaryTypeNameExpression",src:"4247:7:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:366,name:"Literal",src:"4255:1:1"}],id:367,name:"FunctionCall",src:"4247:10:1"}],id:368,name:"BinaryOperation",src:"4234:23:1"},{attributes:{argumentTypes:null,hexvalue:"496e76616c696420726563697069656e7420616464726573732e",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"string",type:'literal_string "Invalid recipient address."',value:"Invalid recipient address."},id:369,name:"Literal",src:"4259:28:1"}],id:370,name:"FunctionCall",src:"4226:62:1"}],id:371,name:"ExpressionStatement",src:"4226:62:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"uint256",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_struct$_Message_$345_memory",typeString:"struct MessageStore.Message memory"}],isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"push",referencedDeclaration:null,type:"function (struct MessageStore.Message storage ref) returns (uint256)"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:372,name:"Identifier",src:"4294:8:1"}],id:374,name:"MemberAccess",src:"4294:13:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!0,lValueRequested:!1,names:["recipient","content","sender","timestamp"],type:"struct MessageStore.Message memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],overloadedDeclarations:[null],referencedDeclaration:345,type:"type(struct MessageStore.Message storage pointer)",value:"Message"},id:375,name:"Identifier",src:"4308:7:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:358,type:"address",value:"recipient"},id:376,name:"Identifier",src:"4337:9:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:360,type:"string memory",value:"content"},id:377,name:"Identifier",src:"4365:7:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:378,name:"Identifier",src:"4390:3:1"}],id:379,name:"MemberAccess",src:"4390:10:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"timestamp",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:557,type:"block",value:"block"},id:380,name:"Identifier",src:"4421:5:1"}],id:381,name:"MemberAccess",src:"4421:15:1"}],id:382,name:"FunctionCall",src:"4308:200:1"}],id:383,name:"FunctionCall",src:"4294:215:1"}],id:384,name:"ExpressionStatement",src:"4294:215:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"tuple()",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"},{typeIdentifier:"t_address_payable",typeString:"address payable"}],overloadedDeclarations:[null],referencedDeclaration:356,type:"function (address,string memory,address)",value:"MessageSent"},id:385,name:"Identifier",src:"4520:11:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:358,type:"address",value:"recipient"},id:386,name:"Identifier",src:"4532:9:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:360,type:"string memory",value:"content"},id:387,name:"Identifier",src:"4543:7:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:388,name:"Identifier",src:"4552:3:1"}],id:389,name:"MemberAccess",src:"4552:10:1"}],id:390,name:"FunctionCall",src:"4520:43:1"}],id:391,name:"EmitStatement",src:"4515:48:1"}],id:392,name:"Block",src:"4220:346:1"}],id:393,name:"FunctionDefinition",src:"4150:416:1"},{attributes:{documentation:null,implemented:!0,isConstructor:!1,kind:"function",modifiers:[null],name:"fetchAllMessagesForLoggedInAccount",scope:495,stateMutability:"view",superFunction:null,visibility:"public"},children:[{attributes:{parameters:[null]},children:[],id:394,name:"ParameterList",src:"4679:2:1"},{children:[{attributes:{constant:!1,name:"",scope:494,stateVariable:!1,storageLocation:"memory",type:"struct MessageStore.Message[]",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"struct MessageStore.Message[]"},children:[{attributes:{contractScope:null,name:"Message",referencedDeclaration:345,type:"struct MessageStore.Message"},id:395,name:"UserDefinedTypeName",src:"4703:7:1"}],id:396,name:"ArrayTypeName",src:"4703:9:1"}],id:397,name:"VariableDeclaration",src:"4703:16:1"}],id:398,name:"ParameterList",src:"4702:18:1"},{children:[{attributes:{assignments:[400]},children:[{attributes:{constant:!1,name:"messageCount",scope:493,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:399,name:"ElementaryTypeName",src:"4727:7:1"}],id:400,name:"VariableDeclaration",src:"4727:20:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:401,name:"Literal",src:"4750:1:1"}],id:402,name:"VariableDeclarationStatement",src:"4727:24:1"},{children:[{attributes:{assignments:[404]},children:[{attributes:{constant:!1,name:"i",scope:435,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:403,name:"ElementaryTypeName",src:"4841:7:1"}],id:404,name:"VariableDeclaration",src:"4841:9:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:405,name:"Literal",src:"4853:1:1"}],id:406,name:"VariableDeclarationStatement",src:"4841:13:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"<",type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:404,type:"uint256",value:"i"},id:407,name:"Identifier",src:"4856:1:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:408,name:"Identifier",src:"4860:8:1"}],id:409,name:"MemberAccess",src:"4860:15:1"}],id:410,name:"BinaryOperation",src:"4856:19:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:404,type:"uint256",value:"i"},id:411,name:"Identifier",src:"4877:1:1"}],id:412,name:"UnaryOperation",src:"4877:3:1"}],id:413,name:"ExpressionStatement",src:"4877:3:1"},{children:[{attributes:{falseBody:null},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"||",type:"bool"},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:342,type:"address"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.Message storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:414,name:"Identifier",src:"4896:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:404,type:"uint256",value:"i"},id:415,name:"Identifier",src:"4905:1:1"}],id:416,name:"IndexAccess",src:"4896:11:1"}],id:417,name:"MemberAccess",src:"4896:18:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:418,name:"Identifier",src:"4918:3:1"}],id:419,name:"MemberAccess",src:"4918:10:1"}],id:420,name:"BinaryOperation",src:"4896:32:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"recipient",referencedDeclaration:338,type:"address"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.Message storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:421,name:"Identifier",src:"4932:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:404,type:"uint256",value:"i"},id:422,name:"Identifier",src:"4941:1:1"}],id:423,name:"IndexAccess",src:"4932:11:1"}],id:424,name:"MemberAccess",src:"4932:21:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:425,name:"Identifier",src:"4957:3:1"}],id:426,name:"MemberAccess",src:"4957:10:1"}],id:427,name:"BinaryOperation",src:"4932:35:1"}],id:428,name:"BinaryOperation",src:"4896:71:1"},{children:[{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:400,type:"uint256",value:"messageCount"},id:429,name:"Identifier",src:"4983:12:1"}],id:430,name:"UnaryOperation",src:"4983:14:1"}],id:431,name:"ExpressionStatement",src:"4983:14:1"}],id:432,name:"Block",src:"4969:39:1"}],id:433,name:"IfStatement",src:"4892:116:1"}],id:434,name:"Block",src:"4882:132:1"}],id:435,name:"ForStatement",src:"4836:178:1"},{attributes:{assignments:[439]},children:[{attributes:{constant:!1,name:"allMessages",scope:493,stateVariable:!1,storageLocation:"memory",type:"struct MessageStore.Message[]",value:null,visibility:"internal"},children:[{attributes:{length:null,type:"struct MessageStore.Message[]"},children:[{attributes:{contractScope:null,name:"Message",referencedDeclaration:345,type:"struct MessageStore.Message"},id:437,name:"UserDefinedTypeName",src:"5073:7:1"}],id:438,name:"ArrayTypeName",src:"5073:9:1"}],id:439,name:"VariableDeclaration",src:"5073:28:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,isStructConstructorCall:!1,lValueRequested:!1,names:[null],type:"struct MessageStore.Message memory[] memory",type_conversion:!1},children:[{attributes:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,type:"function (uint256) pure returns (struct MessageStore.Message memory[] memory)"},children:[{attributes:{length:null,type:"struct MessageStore.Message[]"},children:[{attributes:{contractScope:null,name:"Message",referencedDeclaration:345,type:"struct MessageStore.Message"},id:440,name:"UserDefinedTypeName",src:"5108:7:1"}],id:441,name:"ArrayTypeName",src:"5108:9:1"}],id:442,name:"NewExpression",src:"5104:13:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:400,type:"uint256",value:"messageCount"},id:443,name:"Identifier",src:"5118:12:1"}],id:444,name:"FunctionCall",src:"5104:27:1"}],id:445,name:"VariableDeclarationStatement",src:"5073:58:1"},{attributes:{assignments:[447]},children:[{attributes:{constant:!1,name:"index",scope:493,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:446,name:"ElementaryTypeName",src:"5137:7:1"}],id:447,name:"VariableDeclaration",src:"5137:13:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:448,name:"Literal",src:"5153:1:1"}],id:449,name:"VariableDeclarationStatement",src:"5137:17:1"},{children:[{attributes:{assignments:[451]},children:[{attributes:{constant:!1,name:"i",scope:490,stateVariable:!1,storageLocation:"default",type:"uint256",value:null,visibility:"internal"},children:[{attributes:{name:"uint256",type:"uint256"},id:450,name:"ElementaryTypeName",src:"5249:7:1"}],id:451,name:"VariableDeclaration",src:"5249:9:1"},{attributes:{argumentTypes:null,hexvalue:"30",isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,subdenomination:null,token:"number",type:"int_const 0",value:"0"},id:452,name:"Literal",src:"5261:1:1"}],id:453,name:"VariableDeclarationStatement",src:"5249:13:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"<",type:"bool"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:451,type:"uint256",value:"i"},id:454,name:"Identifier",src:"5264:1:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"length",referencedDeclaration:null,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:455,name:"Identifier",src:"5268:8:1"}],id:456,name:"MemberAccess",src:"5268:15:1"}],id:457,name:"BinaryOperation",src:"5264:19:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:451,type:"uint256",value:"i"},id:458,name:"Identifier",src:"5285:1:1"}],id:459,name:"UnaryOperation",src:"5285:3:1"}],id:460,name:"ExpressionStatement",src:"5285:3:1"},{children:[{attributes:{falseBody:null},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"||",type:"bool"},children:[{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:342,type:"address"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.Message storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:461,name:"Identifier",src:"5304:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:451,type:"uint256",value:"i"},id:462,name:"Identifier",src:"5313:1:1"}],id:463,name:"IndexAccess",src:"5304:11:1"}],id:464,name:"MemberAccess",src:"5304:18:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:465,name:"Identifier",src:"5326:3:1"}],id:466,name:"MemberAccess",src:"5326:10:1"}],id:467,name:"BinaryOperation",src:"5304:32:1"},{attributes:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"==",type:"bool"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,member_name:"recipient",referencedDeclaration:338,type:"address"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.Message storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:468,name:"Identifier",src:"5340:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:451,type:"uint256",value:"i"},id:469,name:"Identifier",src:"5349:1:1"}],id:470,name:"IndexAccess",src:"5340:11:1"}],id:471,name:"MemberAccess",src:"5340:21:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,member_name:"sender",referencedDeclaration:null,type:"address payable"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:567,type:"msg",value:"msg"},id:472,name:"Identifier",src:"5365:3:1"}],id:473,name:"MemberAccess",src:"5365:10:1"}],id:474,name:"BinaryOperation",src:"5340:35:1"}],id:475,name:"BinaryOperation",src:"5304:71:1"},{children:[{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"=",type:"struct MessageStore.Message memory"},children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,type:"struct MessageStore.Message memory"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:439,type:"struct MessageStore.Message memory[] memory",value:"allMessages"},id:476,name:"Identifier",src:"5391:11:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:447,type:"uint256",value:"index"},id:477,name:"Identifier",src:"5403:5:1"}],id:478,name:"IndexAccess",src:"5391:18:1"},{attributes:{argumentTypes:null,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,type:"struct MessageStore.Message storage ref"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:348,type:"struct MessageStore.Message storage ref[] storage ref",value:"messages"},id:479,name:"Identifier",src:"5412:8:1"},{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:451,type:"uint256",value:"i"},id:480,name:"Identifier",src:"5421:1:1"}],id:481,name:"IndexAccess",src:"5412:11:1"}],id:482,name:"Assignment",src:"5391:32:1"}],id:483,name:"ExpressionStatement",src:"5391:32:1"},{children:[{attributes:{argumentTypes:null,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,operator:"++",prefix:!1,type:"uint256"},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:447,type:"uint256",value:"index"},id:484,name:"Identifier",src:"5437:5:1"}],id:485,name:"UnaryOperation",src:"5437:7:1"}],id:486,name:"ExpressionStatement",src:"5437:7:1"}],id:487,name:"Block",src:"5377:78:1"}],id:488,name:"IfStatement",src:"5300:155:1"}],id:489,name:"Block",src:"5290:171:1"}],id:490,name:"ForStatement",src:"5244:217:1"},{attributes:{functionReturnParameters:398},children:[{attributes:{argumentTypes:null,overloadedDeclarations:[null],referencedDeclaration:439,type:"struct MessageStore.Message memory[] memory",value:"allMessages"},id:491,name:"Identifier",src:"5474:11:1"}],id:492,name:"Return",src:"5467:18:1"}],id:493,name:"Block",src:"4721:767:1"}],id:494,name:"FunctionDefinition",src:"4636:852:1"}],id:495,name:"ContractDefinition",src:"59:5432:1"}],id:496,name:"SourceUnit",src:"0:5492:1"},compiler:{name:"solc",version:"0.5.16+commit.9c3226ce.Emscripten.clang"},networks:{17000:{events:{},links:{},address:"0xe825eE69871f2C9e967eA5345a36b8C7CE89726b",transactionHash:"0x43e3b03d87b217abb2e11db0d0465baf3a69d46ffef0fb419f03ecbcbf7fa428"},73799:{events:{},links:{},address:"0xaEBBa11115D842dAE8E0B7B4459a24c9933552B3",transactionHash:"0xa1c3b874554f12d5981e332b43a3e66e37d0e6f249ac060ebaef5c541f62e569"}},schemaVersion:"3.4.16",updatedAt:"2024-11-26T14:51:37.196Z",networkType:"ethereum",devdoc:{methods:{}},userdoc:{methods:{}}}},253:function(e,t,r){"use strict";(function(e){var n=r(254),a=r(5),s=r(3),i=r(12),f=r(25),o=r(45),l=r(1),u=r.n(l),c=(r(263),r(0)),d=r(40),p=r(18),y=r.n(p);function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,f=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){f=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(f)throw s}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(){b=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",f=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var s=t&&t.prototype instanceof _?t:_,i=Object.create(s.prototype),f=new E(n||[]);return a(i,"_invoke",{value:x(e,r,f)}),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",y="executing",m="completed",g={};function _(){}function T(){}function h(){}var v={};l(v,i,function(){return this});var D=Object.getPrototypeOf,S=D&&D(D(w([])));S&&S!==r&&n.call(S,i)&&(v=S);var V=h.prototype=_.prototype=Object.create(v);function I(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function L(e,t){function r(a,s,i,f){var o=c(e[a],e,s);if("throw"!==o.type){var l=o.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,i,f)},function(e){r("throw",e,i,f)}):t.resolve(u).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,f)})}f(o.arg)}var s;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return s=s?s.then(a,a):a()}})}function x(t,r,n){var a=d;return function(s,i){if(a===y)throw Error("Generator is already running");if(a===m){if("throw"===s)throw i;return{value:e,done:!0}}for(n.method=s,n.arg=i;;){var f=n.delegate;if(f){var o=M(f,n);if(o){if(o===g)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=c(t,r,n);if("normal"===l.type){if(a=n.done?m:p,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}function M(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var s=c(a,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,g;var i=s.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function w(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(typeof t+" is not iterable")}return T.prototype=h,a(V,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:T,configurable:!0}),T.displayName=l(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,o,"GeneratorFunction")),e.prototype=Object.create(V),e},t.awrap=function(e){return{__await:e}},I(L.prototype),l(L.prototype,f,function(){return this}),t.AsyncIterator=L,t.async=function(e,r,n,a,s){void 0===s&&(s=Promise);var i=new L(u(e,r,n,a),s);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(V),l(V,o,"Generator"),l(V,i,function(){return this}),l(V,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=w,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return f.type="throw",f.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],f=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:w(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}var _=function(){function t(e){Object(f.a)(this,t),this.key=e,this.state=[],this.i=0,this.j=0,this.initialize()}return Object(o.a)(t,[{key:"initialize",value:function(){for(var e=Object(i.a)(this.key).map(function(e){return e.charCodeAt(0)}),t=0;t<256;t++)this.state[t]=t;for(var r=0,n=0;n<256;n++){r=(r+this.state[n]+e[n%e.length])%256;var a=[this.state[r],this.state[n]];this.state[n]=a[0],this.state[r]=a[1]}}},{key:"process",value:function(e){for(var t=[],r=0;r<e.length;r++){this.i=(this.i+1)%256,this.j=(this.j+this.state[this.i])%256;var n=[this.state[this.j],this.state[this.i]];this.state[this.i]=n[0],this.state[this.j]=n[1];var a=this.state[(this.state[this.i]+this.state[this.j])%256];t.push(e[r]^a)}return t}},{key:"encrypt",value:function(t){var r=Object(i.a)(t).map(function(e){return e.charCodeAt(0)}),n=this.process(r);return e.from(n).toString("hex")}},{key:"decrypt",value:function(t){var r=e.from(t,"hex"),n=this.process(Object(i.a)(r));return String.fromCharCode.apply(String,Object(i.a)(n))}}]),t}();t.a=function(){var e=Object(l.useState)(""),t=Object(s.a)(e,2),r=t[0],f=t[1],o=Object(l.useState)([]),p=Object(s.a)(o,2),g=p[0],T=p[1],h=Object(l.useState)([]),v=Object(s.a)(h,2),D=v[0],S=v[1],V=Object(l.useState)(null),I=Object(s.a)(V,2),L=I[0],x=I[1],M=Object(c.n)(),P=Object(c.p)(),C=Object(d.b)(),E=C.contract,w=C.account,$=C.setAccount,R=M.state&&M.state.username?M.state.username:"";Object(l.useEffect)(function(){M.state&&M.state.recipient&&x(M.state.recipient),E&&w&&(k(),M.state&&M.state.recipient&&U(M.state.recipient))},[E,w,M.state&&M.state.recipient]);var N=function(){var e=Object(a.a)(b().mark(function e(){var t,r,n,a,s,i,f,o;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.methods.getPublicKey(L).call({from:w});case 3:if(t=e.sent,r=localStorage.getItem("privateKey-".concat(w))){e.next=7;break}throw new Error("Private key not found in localStorage.");case 7:return n=y.a.from_hex(t),a=y.a.from_hex(r),s=y.a.crypto_scalarmult(a,n),i=y.a.crypto_kdf_derive_from_key(32,1,"encryption",s),f="".concat(w,"_").concat(L),o="".concat(L,"_").concat(w),localStorage.setItem(f,y.a.to_hex(i)),localStorage.setItem(o,y.a.to_hex(i)),e.abrupt("return",y.a.to_hex(i));case 18:e.prev=18,e.t0=e.catch(0),console.error("Error deriving encryption key:",e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(a.a)(b().mark(function e(){var t,n,a,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L&&r){e.next=3;break}return alert("Both recipient and message fields are required."),e.abrupt("return");case 3:if(!E){e.next=28;break}if(e.prev=4,t=localStorage.getItem("".concat(w,"_").concat(L))||localStorage.getItem("".concat(L,"_").concat(w))){e.next=10;break}return e.next=9,N();case 9:t=e.sent;case 10:return n=new _(t),a=n.encrypt(r),e.next=14,E.methods.sendMessage(L,a).estimateGas({from:w});case 14:return s=e.sent,e.next=17,E.methods.sendMessage(L,a).send({from:w,gas:s+1e5});case 17:alert("Message sent successfully!"),f(""),U(L),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),console.error("Transaction Error:",e.t0),alert("Transaction failed: "+e.t0.message);case 26:e.next=29;break;case 28:alert("Contract not initialized.");case 29:case"end":return e.stop()}},e,null,[[4,22]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(a.a)(b().mark(function e(){var t,r,n;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=18;break}return e.prev=1,e.next=4,E.methods.fetchAllMessagesForLoggedInAccount().call({from:w});case 4:return t=e.sent,r=Object(i.a)(new Set(t.map(function(e){return e.sender===w?e.recipient:e.sender}))),e.next=8,Promise.all(r.map(function(){var e=Object(a.a)(b().mark(function e(t){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,A(t);case 3:return e.t1=e.sent,e.abrupt("return",{address:e.t0,name:e.t1});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:n=e.sent,S(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error fetching messages:",e.t0),alert("Error fetching messages: "+e.t0.message);case 16:e.next=19;break;case 18:alert("Contract not initialized.");case 19:case"end":return e.stop()}},e,null,[[1,12]])}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(a.a)(b().mark(function e(t){var r;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=12;break}return e.prev=1,e.next=4,E.methods.getUsernameByAddress(t).call();case 4:return r=e.sent,e.abrupt("return",r||t);case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error fetching the name:",e.t0),e.abrupt("return",t);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(a.a)(b().mark(function e(t){var r,a,s,i,f,o,l,u;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=40;break}return e.prev=1,e.next=4,E.methods.fetchAllMessagesForLoggedInAccount().call({from:w});case 4:r=e.sent,a=r.filter(function(e){return e.sender===t&&e.recipient===w||e.sender===w&&e.recipient===t}),(s=a.map(function(e){return Object(n.a)({},e,{timestamp:1e3*e.timestamp,direction:e.sender===w?"sent":"received"})})).sort(function(e,t){return e.timestamp-t.timestamp}),i=m(s),e.prev=9,i.s();case 11:if((f=i.n()).done){e.next=22;break}if(o=f.value,l=localStorage.getItem("".concat(w,"_").concat(t))||localStorage.getItem("".concat(t,"_").concat(w))){e.next=18;break}return e.next=17,N();case 17:l=e.sent;case 18:u=new _(l),o.content=u.decrypt(o.content);case 20:e.next=11;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(9),i.e(e.t0);case 27:return e.prev=27,i.f(),e.finish(27);case 30:T(s),x(t),e.next=38;break;case 34:e.prev=34,e.t1=e.catch(1),console.error("Error fetching messages for sender:",e.t1),alert("Error fetching messages for sender: "+e.t1.message);case 38:e.next=41;break;case 40:alert("Contract not initialized.");case 41:case"end":return e.stop()}},e,null,[[1,34],[9,24,27,30]])}));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:"app"},u.a.createElement("div",{className:"sidebar"},u.a.createElement("h2",null,R),u.a.createElement("p",null,"Your Ethereum address: ",w),u.a.createElement("ul",{className:"senders-list"},D.length>0?D.map(function(e,t){return u.a.createElement("li",{key:t,onClick:function(){return U(e.address)}},u.a.createElement("span",null,e.name))}):u.a.createElement("li",null,"No contacts available."))),u.a.createElement("div",{className:"chat-container"},u.a.createElement("div",{className:"chat-header"},u.a.createElement("h2",null,L),u.a.createElement("button",{onClick:function(){P("/add-contact")},className:"addcontact-button"},"All Contacts"),u.a.createElement("button",{onClick:function(){$(null),window.location.href="/"},className:"logout-button"},"Logout")),u.a.createElement("div",{className:"chat-window"},u.a.createElement("ul",{className:"messages"},g.length>0?g.map(function(e,t){return u.a.createElement("li",{key:t,className:"message ".concat(e.direction)},console.log(e.direction),u.a.createElement("p",null,e.content),u.a.createElement("span",{className:"timestamp"},new Date(e.timestamp).toLocaleString()))}):u.a.createElement("li",null,"No messages to display"))),u.a.createElement("div",{className:"message-form"},u.a.createElement("input",{type:"text",value:r,className:"message-input",onChange:function(e){return f(e.target.value)},placeholder:"Type a message..."}),u.a.createElement("button",{onClick:q,className:"send-button"},"Send"))))}}).call(this,r(6).Buffer)},255:function(e,t,r){e.exports=r(589)},263:function(e,t,r){},276:function(e,t){},278:function(e,t){},302:function(e,t){},386:function(e,t){},40:function(e,t,r){"use strict";r.d(t,"b",function(){return d}),r.d(t,"a",function(){return p});var n=r(5),a=r(3),s=r(1),i=r.n(s),f=r(138),o=r.n(f),l=r(139);function u(){u=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",f=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var s=t&&t.prototype instanceof _?t:_,i=Object.create(s.prototype),f=new E(n||[]);return a(i,"_invoke",{value:x(e,r,f)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var p="suspendedStart",y="suspendedYield",m="executing",g="completed",b={};function _(){}function T(){}function h(){}var v={};l(v,i,function(){return this});var D=Object.getPrototypeOf,S=D&&D(D(w([])));S&&S!==r&&n.call(S,i)&&(v=S);var V=h.prototype=_.prototype=Object.create(v);function I(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function L(e,t){function r(a,s,i,f){var o=d(e[a],e,s);if("throw"!==o.type){var l=o.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,i,f)},function(e){r("throw",e,i,f)}):t.resolve(u).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,f)})}f(o.arg)}var s;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return s=s?s.then(a,a):a()}})}function x(t,r,n){var a=p;return function(s,i){if(a===m)throw Error("Generator is already running");if(a===g){if("throw"===s)throw i;return{value:e,done:!0}}for(n.method=s,n.arg=i;;){var f=n.delegate;if(f){var o=M(f,n);if(o){if(o===b)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=d(t,r,n);if("normal"===l.type){if(a=n.done?g:y,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=g,n.method="throw",n.arg=l.arg)}}}function M(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var s=d(a,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,b;var i=s.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function w(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(typeof t+" is not iterable")}return T.prototype=h,a(V,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:T,configurable:!0}),T.displayName=l(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,o,"GeneratorFunction")),e.prototype=Object.create(V),e},t.awrap=function(e){return{__await:e}},I(L.prototype),l(L.prototype,f,function(){return this}),t.AsyncIterator=L,t.async=function(e,r,n,a,s){void 0===s&&(s=Promise);var i=new L(c(e,r,n,a),s);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(V),l(V,o,"Generator"),l(V,i,function(){return this}),l(V,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=w,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return f.type="throw",f.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],f=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:w(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}var c=Object(s.createContext)(),d=function(){return Object(s.useContext)(c)},p=function(e){var t=e.children,r=Object(s.useState)(null),f=Object(a.a)(r,2),d=f[0],p=f[1],y=Object(s.useState)(null),m=Object(a.a)(y,2),g=m[0],b=m[1],_=Object(s.useState)(""),T=Object(a.a)(_,2),h=T[0],v=T[1];Object(s.useEffect)(function(){(function(){var e=Object(n.a)(u().mark(function e(){var t,r,n,a,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=19;break}return e.prev=1,t=new o.a(window.ethereum),e.next=5,window.ethereum.request({method:"eth_requestAccounts"});case 5:return e.next=7,t.eth.getAccounts();case 7:return r=e.sent,v(r[0]),e.next=11,t.eth.net.getId();case 11:n=e.sent,(a=l.networks[n])?(s=new t.eth.Contract(l.abi,a.address),p(t),b(s)):console.error("Contract not deployed on this network"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("Web3 initialization failed:",e.t0);case 19:case"end":return e.stop()}},e,null,[[1,16]])}));return function(){return e.apply(this,arguments)}})()()},[]);return i.a.createElement(c.Provider,{value:{web3:d,contract:g,account:h,setAccount:v,logout:function(){v(null)}}},t)}},426:function(e,t){},429:function(e,t){},431:function(e,t){},442:function(e,t){},444:function(e,t){},468:function(e,t){},469:function(e,t){},475:function(e,t){},477:function(e,t){},481:function(e,t){},500:function(e,t){},572:function(e,t){},579:function(e,t,r){},584:function(e,t){},585:function(e,t){},586:function(e,t,r){},589:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(89),i=r.n(s),f=r(44),o=r(0),l=r(253),u=r(5),c=r(3),d=r(40);r(579);function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",f=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var s=t&&t.prototype instanceof _?t:_,i=Object.create(s.prototype),f=new E(n||[]);return a(i,"_invoke",{value:x(e,r,f)}),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",y="suspendedYield",m="executing",g="completed",b={};function _(){}function T(){}function h(){}var v={};l(v,i,function(){return this});var D=Object.getPrototypeOf,S=D&&D(D(w([])));S&&S!==r&&n.call(S,i)&&(v=S);var V=h.prototype=_.prototype=Object.create(v);function I(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function L(e,t){function r(a,s,i,f){var o=c(e[a],e,s);if("throw"!==o.type){var l=o.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,i,f)},function(e){r("throw",e,i,f)}):t.resolve(u).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,f)})}f(o.arg)}var s;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return s=s?s.then(a,a):a()}})}function x(t,r,n){var a=d;return function(s,i){if(a===m)throw Error("Generator is already running");if(a===g){if("throw"===s)throw i;return{value:e,done:!0}}for(n.method=s,n.arg=i;;){var f=n.delegate;if(f){var o=M(f,n);if(o){if(o===b)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=c(t,r,n);if("normal"===l.type){if(a=n.done?g:y,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=g,n.method="throw",n.arg=l.arg)}}}function M(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var s=c(a,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,b;var i=s.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function w(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(typeof t+" is not iterable")}return T.prototype=h,a(V,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:T,configurable:!0}),T.displayName=l(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,o,"GeneratorFunction")),e.prototype=Object.create(V),e},t.awrap=function(e){return{__await:e}},I(L.prototype),l(L.prototype,f,function(){return this}),t.AsyncIterator=L,t.async=function(e,r,n,a,s){void 0===s&&(s=Promise);var i=new L(u(e,r,n,a),s);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(V),l(V,o,"Generator"),l(V,i,function(){return this}),l(V,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=w,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return f.type="throw",f.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],f=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:w(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}var y=function(){var e=Object(d.b)(),t=e.web3,r=e.contract,s=e.account,i=Object(n.useState)([]),f=Object(c.a)(i,2),l=f[0],y=f[1],m=Object(n.useState)(null),g=Object(c.a)(m,2),b=g[0],_=g[1],T=Object(o.p)();Object(n.useEffect)(function(){t&&r&&h()},[t,r]);var h=function(){var e=Object(u.a)(p().mark(function e(){var n,a,i,f;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&r){e.next=4;break}return _("Web3 or contract is not initialized"),e.abrupt("return");case 4:return e.next=6,r.methods.getAllRegisteredUsers().call({from:s});case 6:n=e.sent,a=n[0],i=n[1],Array.isArray(a)&&Array.isArray(i)&&a.length>0?(f=a.map(function(e,t){return{address:e,username:i[t]}}).filter(function(e){return e.address!==s}),y(f)):y([]),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching users:",e.t0),_("Failed to fetch users. Please try again later.");case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"add-contact-page"},a.a.createElement("div",{className:"chat-header"},a.a.createElement("h2",null,"All Registered Users")),b?a.a.createElement("div",{className:"error-message"},b):a.a.createElement("ul",{className:"user-list"},l.length>0?l.map(function(e,t){return a.a.createElement("li",{key:t,className:"user-item"},a.a.createElement("a",{href:"/app#/app",onClick:function(){return function(e){T("/app#/app",{state:{recipient:e.address}})}(e)}},e.username))}):a.a.createElement("div",null,"No users registered yet.")))},m=(r(138),r(582),r(18)),g=r.n(m);r(586);function b(){b=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",f=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var s=t&&t.prototype instanceof _?t:_,i=Object.create(s.prototype),f=new E(n||[]);return a(i,"_invoke",{value:x(e,r,f)}),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",y="executing",m="completed",g={};function _(){}function T(){}function h(){}var v={};l(v,i,function(){return this});var D=Object.getPrototypeOf,S=D&&D(D(w([])));S&&S!==r&&n.call(S,i)&&(v=S);var V=h.prototype=_.prototype=Object.create(v);function I(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function L(e,t){function r(a,s,i,f){var o=c(e[a],e,s);if("throw"!==o.type){var l=o.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,i,f)},function(e){r("throw",e,i,f)}):t.resolve(u).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,f)})}f(o.arg)}var s;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return s=s?s.then(a,a):a()}})}function x(t,r,n){var a=d;return function(s,i){if(a===y)throw Error("Generator is already running");if(a===m){if("throw"===s)throw i;return{value:e,done:!0}}for(n.method=s,n.arg=i;;){var f=n.delegate;if(f){var o=M(f,n);if(o){if(o===g)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=c(t,r,n);if("normal"===l.type){if(a=n.done?m:p,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}function M(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var s=c(a,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,g;var i=s.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function w(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(typeof t+" is not iterable")}return T.prototype=h,a(V,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:T,configurable:!0}),T.displayName=l(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,o,"GeneratorFunction")),e.prototype=Object.create(V),e},t.awrap=function(e){return{__await:e}},I(L.prototype),l(L.prototype,f,function(){return this}),t.AsyncIterator=L,t.async=function(e,r,n,a,s){void 0===s&&(s=Promise);var i=new L(u(e,r,n,a),s);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(V),l(V,o,"Generator"),l(V,i,function(){return this}),l(V,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=w,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return f.type="throw",f.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],f=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:w(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}r(119),r(252);var _=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),s=(t[0],t[1]),i=Object(n.useState)(""),f=Object(c.a)(i,2),l=f[0],p=f[1],y=Object(n.useState)(""),m=Object(c.a)(y,2),_=m[0],T=m[1],h=Object(n.useState)(""),v=Object(c.a)(h,2),D=v[0],S=v[1],V=Object(n.useState)(!1),I=Object(c.a)(V,2),L=I[0],x=I[1],M=Object(n.useState)(""),P=Object(c.a)(M,2),C=P[0],E=P[1],w=Object(n.useState)(""),$=Object(c.a)(w,2),R=($[0],$[1],Object(d.b)()),N=R.web3,q=R.contract,k=R.account,A=Object(o.p)();r(137);Object(n.useEffect)(function(){k&&q&&U()},[k,q]);var U=function(){var e=Object(u.a)(b().mark(function e(){var t;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.methods.getUsername().call({from:k});case 3:(t=e.sent)?(E(t),x(!0)):x(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error checking registration status:",e.t0),S("Failed to check registration status.");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(b().mark(function e(){var t,r,n,a,s,i;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.ready;case 2:return t=g.a.crypto_kx_keypair(),console.log("keypairs generated"),r=g.a.to_hex(t.publicKey),n=g.a.to_hex(t.privateKey),localStorage.setItem("privateKey-".concat(k),n),console.log("Private key for ".concat(k," stored in local storage!")),a=new Blob([n],{type:"text/plain"}),s=URL.createObjectURL(a),(i=document.createElement("a")).href=s,i.download="private_key.txt",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s),e.abrupt("return",r);case 18:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(b().mark(function e(){var t,r;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&_){e.next=3;break}return S("Username and Password are required"),e.abrupt("return");case 3:if(!(l.length<3||l.length>100)){e.next=6;break}return S("Username must be between 3 and 100 characters"),e.abrupt("return");case 6:if(!((t=B(_)).length>0)){e.next=10;break}return S(t.join(" ")),e.abrupt("return");case 10:return e.prev=10,e.next=13,O();case 13:return r=e.sent,e.next=16,q.methods.registerUser(l,r,_).send({from:k});case 16:return e.next=18,q.methods.updatePublicKey(r).send({from:k});case 18:console.log("public key stored on block"),s(!1),A("/app",{state:{account:k,username:l}}),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(10),console.error("Registration error:",e.t0),S("Registration failed. Please try again.");case 27:case"end":return e.stop()}},e,null,[[10,23]])}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(b().mark(function e(){var t,r,n;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=3;break}return S("Password is required for login"),e.abrupt("return");case 3:return e.prev=3,t=N.utils.keccak256(_),e.next=7,q.methods.getUsername().call({from:k});case 7:return r=e.sent,e.next=10,q.methods.getPasswordHash(k).call();case 10:n=e.sent,t===n?(console.log("Password is valid. User login successful."),E(r),A("/app",{state:{account:k,username:r}})):S("Invalid password"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("Login error:",e.t0),S("Login failed. Please try again.");case 19:case"end":return e.stop()}},e,null,[[3,15]])}));return function(){return e.apply(this,arguments)}}(),B=function(e){var t=[];return e.length<8&&t.push("Password must be at least 8 characters long."),/[A-Z]/.test(e)||t.push("Password must contain at least one uppercase letter."),/[a-z]/.test(e)||t.push("Password must contain at least one lowercase letter."),/\d/.test(e)||t.push("Password must contain at least one number."),/[!@#$%^&*(),.?":{}|<>]/.test(e)||t.push("Password must contain at least one special character."),t};return a.a.createElement("div",{className:"login-container align"},a.a.createElement("div",{className:"grid"},a.a.createElement("div",{className:"login-box"},a.a.createElement("h1",{className:"text--center"},"Chat App"),L?a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"text--center"},"Welcome Back, ",C,"!"),a.a.createElement("div",{className:"form"},a.a.createElement("div",{className:"form__field"},a.a.createElement("input",{className:"form__input",type:"password",placeholder:"Enter Password to Login",value:_,onChange:function(e){return T(e.target.value)}})),a.a.createElement("button",{className:"button login",onClick:F},"Login"))):a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"text--center"},"Sign Up"),a.a.createElement("div",{className:"form"},a.a.createElement("div",{className:"form__field"},a.a.createElement("input",{className:"form__input",type:"text",placeholder:"Username",value:l,onChange:function(e){return p(e.target.value)}})),a.a.createElement("div",{className:"form__field"},a.a.createElement("input",{className:"form__input",type:"password",placeholder:"Password",value:_,onChange:function(e){return T(e.target.value)}})),a.a.createElement("button",{className:"button login",onClick:j},"Sign Up"))),D&&a.a.createElement("p",{className:"error text--center"},D)," ")))},T=function(){return a.a.createElement(o.c,null,a.a.createElement(o.a,{path:"/",element:a.a.createElement(_,null)}),a.a.createElement(o.a,{path:"/app",element:a.a.createElement(l.a,null)}),a.a.createElement(o.a,{path:"/add-contact",element:a.a.createElement(y,null)}))};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(d.a,null,a.a.createElement(f.a,null,a.a.createElement(T,null)))),document.getElementById("root"))}},[[255,2,1]]]);
//# sourceMappingURL=main.1c4d81f7.chunk.js.map